{"mappings":"ACAA,OAAO,kBAAkB,CAAG,OAAO,KAAK,CAAC,MAAM,CAAC,CAC/C,SAAU,IACV,SAAU,IACV,aAAc,IACd,OAAQ,KACR,OAAQ,CACP,wBAAyB,eACzB,yBAA0B,eAC1B,yBAA0B,eAC1B,OAAU,SACV,QAAW,UACX,MAAS,QACT,MAAS,QACT,kBAAmB,cACnB,gBAAiB,eACjB,sBAAuB,WACxB,EACA,WAAY,KACZ,WAAY,WACX,IAAI,EAAW,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,OAAO,OAAO,CAAC,MAAM,CAAG,GACvD,EAAgB,EAAS,OAAO,CAAC,IACpB,CAAA,UAAb,GAAsB,CAAA,EAAW,QAArC,EACiB,YAAb,GAAwB,CAAA,EAAW,UAAvC,EACI,GAAiB,GAAG,CAAA,EAAW,EAAS,KAAK,CAAC,EAAG,EAArD,EACA,IAAI,EAAM,+CAKV,GAJO,gBAAgB,OAAO,OAAO,CAAC,mDAC/B,CAAA,8FAAiG,CAAA,AAAa,KAAb,EAAkB,OAAS,EAAA,EAAM,WAAA,EAAY,OAAO,OAAO,CAAC,yBAC7J,CAAA,4BAA+B,CAAA,AAAa,aAAb,EAA0B,OAAS,EAAA,EAAM,WAAA,EAAY,OAAO,OAAO,CAAC,yCACnG,CAAA,qCAAwC,CAAA,AAAa,WAAb,EAAwB,OAAS,EAAA,EAAM,WAAA,EAAY,OAAO,OAAO,iIACP,WAAW,IAAI,CAAC,CAAC,CAAC,cAAc,GAAG,IAAM,IAAM,uHACvI,KAAb,GACH,CAAA,GAAO,iKADR,EAIA,8CACA,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,GACd,IAAI,EAAa,IAAI,CAAC,CAAC,CAAC,aACxB,CAAA,IAAI,CAAC,UAAU,CAAG,EAClB,IAAI,CAAC,cAAc,CAAG,KACtB,IAAI,EAAU,IAAI,CAAC,CAAC,CAAC,YACrB,GAAI,EAAQ,MAAM,CAAE,CACnB,IAAI,EAAS,IAAI,CAAC,MAAM,CAAG,IAAI,aAAa,EAAS,IAAI,CAAC,GAAG,EAC7D,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,SAAU,WACrB,EAAO,YAAY,EACpB,GACI,AAAa,aAAb,GACH,EAAO,OAAO,CAAC,WACf,EAAW,IAAI,CAAC,cAAe,8DAC/B,IAAI,CAAC,CAAC,CAAC,cAAc,MAAM,IACJ,WAAb,IACV,EAAO,OAAO,CAAC,QACf,EAAW,IAAI,CAAC,cAAe,qDAC/B,IAAI,CAAC,CAAC,CAAC,cAAc,MAAM,IAE5B,IAAI,CAAC,MAAM,CAAC,cAAc,CAAG,CAAA,CAC9B,MACC,IAAI,CAAC,MAAM,CAAG,KAEf,EAAW,KAAK,GAChB,IAAI,CAAC,IAAI,CAAC,EAAW,GAAG,IACxB,IAAI,CAAC,eAAe,EACrB,EACA,aAAc,SAAS,CAAC,EACvB,IAAI,CAAC,IAAI,CAAC,EAAE,aAAa,CAAC,KAAK,CAChC,EACA,aAAc,SAAS,CAAC,EACvB,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,GACzB,IAAI,CAAC,aAAa,GAClB,IAAI,CAAC,UAAU,CAAC,KAAK,EACtB,EACA,cAAe,WACd,qCAAqC;AACrC,IAAI,EAAM,GACV,GAAI,AAAsB,YAAtB,IAAI,CAAC,MAAM,CAAC,KAAK,CACpB,EAAM,qEACA,GAAI,AAAsB,SAAtB,IAAI,CAAC,MAAM,CAAC,KAAK,CAC3B,EAAM,+DACA,CACN,IAAI,CAAC,CAAC,CAAC,sBAAsB,MAAM,GACnC,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAW,OAC/B,MACD,CACA,GAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CACtB,IAAK,IAAI,EAAI,EAAG,EAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,CAAE,IAAK,CACpD,IAAI,EAAS,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAC/B,EAAO,CAAM,CAAC,EAAE,AACF,CAAA,SAAd,CAAM,CAAC,EAAE,EAAa,CAAA,EAAO,MAAM,cAAe,GAAM,IAAI,AAAJ,EAC1C,YAAd,CAAM,CAAC,EAAE,EAAgB,CAAA,EAAO,MAAM,cAAe,GAAM,IAAI,AAAJ,EAC/D,GAAO,iCAAmC,WAAW,EAAO,IAAI,CAAC,MAAQ,KAAO,EAAO,+CACxF,CAEI,IAAI,CAAC,cAAc,EACvB,CAAA,IAAI,CAAC,cAAc,CAAG,EAAE,yCAAyC,WAAW,CAAC,IAAI,CAAC,UAAU,CAAA,EAE7F,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,GACzB,IAAI,EAAc,IAAI,CAAC,cAAc,CAAC,KAAK,EACvC,CAAA,EAAc,IAAI,CAAC,UAAU,CAAC,UAAU,GAAK,EAChD,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAW,GAAM,CAAA,IAAI,CAAC,cAAc,CAAC,MAAM,GAAK,CAAA,EAAK,kBAEzE,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,UAAW,eAAkB,CAAA,EAAc,CAAA,EAAK,KAEtE,EACA,OAAQ,SAAS,CAAC,EACjB,EAAE,cAAc,GAChB,IAAI,CAAC,CAAC,CAAC,cAAc,IAAI,CAAC,cAAe,4CAA4C,KAAK,EAC3F,EACA,MAAO,SAAU,CAAC,EACjB,IAAI,EAAM,IAAI,CAAC,UAAU,CAAC,GAAG,GACzB,EAAK,KAAK,GACd,GAAK,GACL,IAAI,EAAW,EAAI,MAAM,CAAC,EAAI,MAAM,CAAG,GACvC,GAAI,AAAa,MAAb,GAAoB,AAAa,MAAb,EAAkB,CACzC,GAAI,AAAO,OAAP,GAAe,AAAO,cAAP,GAAsB,AAAO,YAAP,EAAkB,CAC1D,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,WAAY,IAAI,CAAE,CAAA,GAC9B,MACD,CACA,GAAI,AAAO,OAAP,GAAe,AAAO,eAAP,GAAuB,AAAO,SAAP,GAAiB,AAAO,UAAP,EAAgB,CAC1E,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,SAAU,IAAI,CAAE,CAAA,GAC5B,MACD,CACD,CACA,GAAI,AAAa,MAAb,GACC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,EAAG,CAC3C,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IACpB,IAAI,CAAC,IAAI,CAAC,IACV,MACD,EAEF,EACA,QAAS,SAAS,CAAC,EAClB,OAAQ,EAAE,OAAO,EACjB,KAAK,GAGJ,GAFA,EAAE,cAAc,GAChB,EAAE,eAAe,GACb,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,EAAG,CAC3C,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IACpB,IAAI,CAAC,IAAI,CAAC,IACV,MACD,CACA,GAAI,IAAI,CAAC,UAAU,CAAE,CACpB,IAAI,EAAO,IAAI,CAAC,UAAU,CAAC,QAAQ,CAAC,MAAM,CAAC,GAC3C,GAAI,AAAS,WAAT,GAAqB,AAAS,aAAT,EAAqB,CAC7C,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAM,IAAI,CAAE,CAAA,GACxB,MACD,CACA,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAM,IAAI,CAAE,CAAA,EAAO,EAAE,IAAI,CAAC,UAAU,EACjD,MAAY,IAAI,CAAC,UAAU,CAAC,GAAG,IAC9B,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAEzB,KACD,MAAK,IACJ,GAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,UAAU,EAAG,CAC3C,EAAE,cAAc,GAChB,EAAE,eAAe,GACjB,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IACpB,IAAI,CAAC,IAAI,CAAC,IACV,MACD,CACA,KACD,MAAK,GACJ,IAAI,EAAK,KAAK,IAAI,CAAC,UAAU,CAAC,GAAG,IACjC,GAAI,AAAO,OAAP,GAAe,AAAO,YAAP,EAAkB,CACpC,EAAE,cAAc,GAChB,EAAE,eAAe,GACjB,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,WAAY,IAAI,CAAE,CAAA,GAC9B,MACD,CACA,GAAI,AAAO,OAAP,GAAe,AAAO,SAAP,GAAiB,AAAO,UAAP,EAAgB,CACnD,EAAE,cAAc,GAChB,EAAE,eAAe,GACjB,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,SAAU,IAAI,CAAE,CAAA,GAC5B,MACD,CACA,KACD,MAAK,GACJ,EAAE,cAAc,GAChB,EAAE,eAAe,GAEjB,IADA,IAAI,EAAQ,EAAE,IAAI,CAAC,UAAU,EAAE,MAAM,GAAG,IAAI,GACrC,CAAK,CAAC,EAAE,EAAI,AAAgC,MAAhC,CAAK,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAU,EAAQ,EAAM,IAAI,EACtE,CAAA,CAAK,CAAC,EAAE,EAAI,EAAM,QAAQ,EAAE,CAAC,EAAE,GAClC,EAAE,IAAI,CAAC,UAAU,EAAE,WAAW,CAAC,UAC/B,IAAI,CAAC,UAAU,CAAG,EAAM,QAAQ,EAAE,CAAC,EAAE,CACrC,EAAE,IAAI,CAAC,UAAU,EAAE,QAAQ,CAAC,WAE7B,KACD,MAAK,GACJ,EAAE,cAAc,GAChB,EAAE,eAAe,GAEjB,IADA,IAAI,EAAQ,EAAE,IAAI,CAAC,UAAU,EAAE,MAAM,GAAG,IAAI,GACrC,CAAK,CAAC,EAAE,EAAI,AAAgC,MAAhC,CAAK,CAAC,EAAE,CAAC,UAAU,CAAC,OAAO,EAAU,EAAQ,EAAM,IAAI,EACtE,CAAA,CAAK,CAAC,EAAE,EAAI,EAAM,QAAQ,EAAE,CAAC,EAAE,GAClC,EAAE,IAAI,CAAC,UAAU,EAAE,WAAW,CAAC,UAC/B,IAAI,CAAC,UAAU,CAAG,EAAM,QAAQ,EAAE,CAAC,EAAE,CACrC,EAAE,IAAI,CAAC,UAAU,EAAE,QAAQ,CAAC,WAE7B,KACD,MAAK,GACL,KAAK,EACJ,GAAI,IAAI,CAAC,UAAU,CAAC,GAAG,GAAI,MAE3B,GAAI,IAAI,CAAC,MAAM,CAAC,YAAY,GAAI,CAC/B,IAAI,CAAC,IAAI,CAAC,IACV,MACD,CACA,GAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAE,CACtB,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAI,IAAI,CAAE,CAAA,GACtB,MACD,CACI,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,CAAG,IAC5B,EAAE,cAAc,GAChB,EAAE,eAAe,GACjB,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,EAG1B,CACD,EACA,MAAO,SAAS,CAAC,EAChB,GAAI,AAAqB,WAArB,EAAE,MAAM,CAAC,OAAO,EAAiB,EAAE,EAAE,MAAM,EAAE,OAAO,CAAC,WAAW,MAAM,CAAE,CAC3E,EAAE,cAAc,GAChB,EAAE,eAAe,GACjB,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,MAAM,CAAC,KAAK,CAAE,IAAI,CAAE,CAAA,GAClC,MACD,CACA,GAAI,AAAqB,WAArB,EAAE,MAAM,CAAC,OAAO,EAAiB,AAAkB,UAAlB,EAAE,MAAM,CAAC,IAAI,CAAc,CAC/D,EAAE,cAAc,GAChB,EAAE,eAAe,GACjB,MAAM,CAAC,sBAAuB,4BAA6B,SAAS,+EAA+E,CAAC,KAAK,KAAK,CAAC,AAAc,EAAd,KAAK,MAAM,IAAM,EAChL,MACD,CACA,IAAI,EAAY,IAAI,CAAC,GAAG,CAAC,SAAS,GAClC,IAAI,CAAC,UAAU,CAAC,KAAK,GACrB,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,EACpB,EACA,YAAa,SAAS,CAAC,EACtB,GAAI,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,aAAa,EAAG,CAC3C,EAAE,cAAc,GAChB,EAAE,wBAAwB,GAC1B,IAAI,CAAC,UAAU,CAAC,GAAG,CAAC,IACpB,IAAI,CAAC,IAAI,CAAC,IACV,MACD,CACD,EACA,UAAW,SAAS,CAAC,EACpB,EAAE,IAAI,CAAC,UAAU,EAAE,WAAW,CAAC,UAC/B,IAAI,CAAC,UAAU,CAAG,EAAE,aAAa,CACjC,EAAE,IAAI,CAAC,UAAU,EAAE,QAAQ,CAAC,SAC7B,EACA,KAAM,SAAS,CAAG,EACZ,IAAI,CAAC,MAAM,GACX,GAAK,CAAA,EAAM,EAAhB,EACA,IAAI,CAAC,aAAa,GACb,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAClB,IAAI,CAAC,MAAM,CAAC,CAAC,EAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EACvC,IAAI,CAAC,CAAC,CAAC,YAAY,QAAQ,CAAC,gBAC5B,IAAI,CAAC,UAAU,CAAG,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,oBAAoB,CAAC,IAAI,CAAC,EAAE,CAC7D,EAAE,IAAI,CAAC,UAAU,EAAE,QAAQ,CAAC,YAE5B,IAAI,CAAC,CAAC,CAAC,YAAY,WAAW,CAAC,gBAC/B,IAAI,CAAC,UAAU,CAAG,OAEpB,EACA,gBAAiB,WACZ,IAAI,CAAC,MAAM,EAAI,IAAI,CAAC,MAAM,CAAC,UAAU,EAAI,AAAkB,cAAlB,IAAI,CAAC,MAAM,CAAC,CAAC,EAAoB,AAAkB,YAAlB,IAAI,CAAC,MAAM,CAAC,CAAC,EAC1F,WAAW,AAAA,CAAA,WACV,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,QAAS,IAAI,CAAE,CAAA,EAAO,EAAE,IAAI,CAAC,UAAU,EAAG,CAAA,EAC/E,CAAA,EAAE,IAAI,CAAC,IAAI,EAEb,CACD,E,4D","sources":["<anon>","js/pokedex-search.js"],"sourcesContent":["var $a397d2746deb56b5$exports = {};\nwindow.PokedexSearchPanel = Panels.Panel.extend({\n    minWidth: 639,\n    maxWidth: 639,\n    sidebarWidth: 280,\n    search: null,\n    events: {\n        \"keyup input.searchbox\": \"updateSearch\",\n        \"change input.searchbox\": \"updateSearch\",\n        \"search input.searchbox\": \"updateSearch\",\n        \"submit\": \"submit\",\n        \"keydown\": \"keydown\",\n        \"keyup\": \"keyup\",\n        \"click\": \"click\",\n        \"click .result a\": \"clickResult\",\n        \"click .filter\": \"removeFilter\",\n        \"mouseover .result a\": \"hoverlink\"\n    },\n    activeLink: null,\n    initialize: function() {\n        var fragment = this.fragment.slice(Config.baseurl.length - 1);\n        var questionIndex = fragment.indexOf(\"?\");\n        if (fragment === \"moves\") fragment = \"moves/\";\n        if (fragment === \"pokemon\") fragment = \"pokemon/\";\n        if (questionIndex >= 0) fragment = fragment.slice(0, questionIndex);\n        var buf = '<div class=\"pfx-body\"><form class=\"pokedex\">';\n        buf += '<h1><a href=\"' + Config.baseurl + '\"\" data-target=\"replace\">Pok&eacute;dex</a></h1>';\n        buf += '<ul class=\"tabbar centered\" style=\"margin-bottom: 18px\"><li><button class=\"button nav-first' + (fragment === \"\" ? \" cur\" : \"\") + '\" value=\"' + Config.baseurl + '\">Search</button></li>';\n        buf += '<li><button class=\"button' + (fragment === \"pokemon/\" ? \" cur\" : \"\") + '\" value=\"' + Config.baseurl + 'pokemon/\">Pok&eacute;mon</button></li>';\n        buf += '<li><button class=\"button nav-last' + (fragment === \"moves/\" ? \" cur\" : \"\") + '\" value=\"' + Config.baseurl + 'moves/\">Moves</button></li></ul>';\n        buf += '<div class=\"searchboxwrapper\"><input class=\"textbox searchbox\" type=\"search\" name=\"q\" value=\"' + escapeHTML(this.$(\".searchbox\").val() || \"\") + '\" autocomplete=\"off\" autofocus placeholder=\"Search Pok&eacute;mon, moves, abilities, items, types, or more\" /></div>';\n        if (fragment === \"\") buf += '<p class=\"buttonbar\"><button class=\"button\"><strong>Pok&eacute;dex Search</strong></button> <button name=\"lucky\" class=\"button\">I\\'m Feeling Lucky</button></p>';\n        buf += \"</form>\";\n        buf += '<div class=\"results\"></div></div>';\n        this.$el.html(buf);\n        var $searchbox = this.$(\".searchbox\");\n        this.$searchbox = $searchbox;\n        this.$searchfilters = null;\n        var results = this.$(\".results\");\n        if (results.length) {\n            var search = this.search = new BattleSearch(results, this.$el);\n            this.$el.on(\"scroll\", function() {\n                search.updateScroll();\n            });\n            if (fragment === \"pokemon/\") {\n                search.setType(\"pokemon\");\n                $searchbox.attr(\"placeholder\", \"Search pokemon OR filter by type, move, ability, egg group\");\n                this.$(\".buttonbar\").remove();\n            } else if (fragment === \"moves/\") {\n                search.setType(\"move\");\n                $searchbox.attr(\"placeholder\", \"Search moves OR filter by type, category, pokemon\");\n                this.$(\".buttonbar\").remove();\n            }\n            this.search.externalFilter = true;\n        } else this.search = null;\n        $searchbox.focus();\n        this.find($searchbox.val());\n        this.checkExactMatch();\n    },\n    updateSearch: function(e) {\n        this.find(e.currentTarget.value);\n    },\n    removeFilter: function(e) {\n        this.search.removeFilter(e);\n        this.updateFilters();\n        this.$searchbox.focus();\n    },\n    updateFilters: function() {\n        // this.search.externalFilter = true;\n        var buf = \"\";\n        if (this.search.qType === \"pokemon\") buf = '<button class=\"filter noclear\" value=\":\">Pok\\xe9mon</button> ';\n        else if (this.search.qType === \"move\") buf = '<button class=\"filter noclear\" value=\":\">Moves</button> ';\n        else {\n            this.$(\".searchbox-filters\").remove();\n            this.$searchbox.css(\"padding\", \"2px\");\n            return;\n        }\n        if (this.search.filters) for(var i = 0; i < this.search.filters.length; i++){\n            var filter = this.search.filters[i];\n            var text = filter[1];\n            if (filter[0] === \"move\") text = getID(BattleMovedex, text).name;\n            if (filter[0] === \"pokemon\") text = getID(BattlePokedex, text).name;\n            buf += '<button class=\"filter\" value=\"' + escapeHTML(filter.join(\":\")) + '\">' + text + ' <i class=\"fa fa-times-circle\"></i></button> ';\n        }\n        if (!this.$searchfilters) this.$searchfilters = $('<div class=\"searchbox-filters\"></div>').insertAfter(this.$searchbox);\n        this.$searchfilters.html(buf);\n        var filterWidth = this.$searchfilters.width();\n        if (filterWidth > this.$searchbox.outerWidth() / 2) this.$searchbox.css(\"padding\", \"\" + (this.$searchfilters.height() + 4) + \"px 2px 2px 2px\");\n        else this.$searchbox.css(\"padding\", \"2px 2px 2px \" + (filterWidth + 6) + \"px\");\n    },\n    submit: function(e) {\n        e.preventDefault();\n        this.$(\".searchbox\").attr(\"placeholder\", \"Type in: Pokemon, move, item, ability...\").focus();\n    },\n    keyup: function(e) {\n        var val = this.$searchbox.val();\n        var id = toID(val);\n        if (!id) return;\n        var lastchar = val.charAt(val.length - 1);\n        if (lastchar === \",\" || lastchar === \" \") {\n            if (id === \"ds\" || id === \"dexsearch\" || id === \"pokemon\") {\n                this.app.go(\"pokemon/\", this, true);\n                return;\n            }\n            if (id === \"ms\" || id === \"movesearch\" || id === \"move\" || id === \"moves\") {\n                this.app.go(\"moves/\", this, true);\n                return;\n            }\n        }\n        if (lastchar === \",\") {\n            if (this.search.addFilter(this.activeLink)) {\n                this.$searchbox.val(\"\");\n                this.find(\"\");\n                return;\n            }\n        }\n    },\n    keydown: function(e) {\n        switch(e.keyCode){\n            case 13:\n                e.preventDefault();\n                e.stopPropagation();\n                if (this.search.addFilter(this.activeLink)) {\n                    this.$searchbox.val(\"\");\n                    this.find(\"\");\n                    return;\n                }\n                if (this.activeLink) {\n                    var path = this.activeLink.pathname.substr(1);\n                    if (path === \"moves/\" || path === \"pokemon/\") {\n                        this.app.go(path, this, true);\n                        return;\n                    }\n                    this.app.go(path, this, false, $(this.activeLink));\n                } else if (!this.$searchbox.val()) this.app.slicePanel(this);\n                break;\n            case 188:\n                if (this.search.addFilter(this.activeLink)) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    this.$searchbox.val(\"\");\n                    this.find(\"\");\n                    return;\n                }\n                break;\n            case 32:\n                var id = toID(this.$searchbox.val());\n                if (id === \"ds\" || id === \"pokemon\") {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    this.app.go(\"pokemon/\", this, true);\n                    return;\n                }\n                if (id === \"ms\" || id === \"move\" || id === \"moves\") {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    this.app.go(\"moves/\", this, true);\n                    return;\n                }\n                break;\n            case 38:\n                e.preventDefault();\n                e.stopPropagation();\n                var $link = $(this.activeLink).parent().prev();\n                while($link[0] && $link[0].firstChild.tagName !== \"A\")$link = $link.prev();\n                if ($link[0] && $link.children()[0]) {\n                    $(this.activeLink).removeClass(\"active\");\n                    this.activeLink = $link.children()[0];\n                    $(this.activeLink).addClass(\"active\");\n                }\n                break;\n            case 40:\n                e.preventDefault();\n                e.stopPropagation();\n                var $link = $(this.activeLink).parent().next();\n                while($link[0] && $link[0].firstChild.tagName !== \"A\")$link = $link.next();\n                if ($link[0] && $link.children()[0]) {\n                    $(this.activeLink).removeClass(\"active\");\n                    this.activeLink = $link.children()[0];\n                    $(this.activeLink).addClass(\"active\");\n                }\n                break;\n            case 27:\n            case 8:\n                if (this.$searchbox.val()) break;\n                if (this.search.removeFilter()) {\n                    this.find(\"\");\n                    return;\n                }\n                if (this.search.qType) {\n                    this.app.go(\"\", this, true);\n                    return;\n                }\n                if (this.app.panels.length > 1) {\n                    e.preventDefault();\n                    e.stopPropagation();\n                    this.app.slicePanel(this);\n                }\n                break;\n        }\n    },\n    click: function(e) {\n        if (e.target.tagName === \"BUTTON\" && $(e.target).closest(\".tabbar\").length) {\n            e.preventDefault();\n            e.stopPropagation();\n            this.app.go(e.target.value, this, true);\n            return;\n        }\n        if (e.target.tagName === \"BUTTON\" && e.target.name === \"lucky\") {\n            e.preventDefault();\n            e.stopPropagation();\n            alert([\n                \"That's pretty cool.\",\n                \"Your mom's feeling lucky.\",\n                \"I see.\",\n                \"If you feel lucky for more than four hours, perhaps you should see a doctor.\"\n            ][Math.floor(Math.random() * 4)]);\n            return;\n        }\n        var scrollLoc = this.$el.scrollTop();\n        this.$searchbox.focus();\n        this.$el.scrollTop(scrollLoc);\n    },\n    clickResult: function(e) {\n        if (this.search.addFilter(e.currentTarget)) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            this.$searchbox.val(\"\");\n            this.find(\"\");\n            return;\n        }\n    },\n    hoverlink: function(e) {\n        $(this.activeLink).removeClass(\"active\");\n        this.activeLink = e.currentTarget;\n        $(this.activeLink).addClass(\"active\");\n    },\n    find: function(val) {\n        if (!this.search) return;\n        if (!val) val = \"\";\n        this.updateFilters();\n        if (!this.search.find(val)) return;\n        if (this.search.q || this.search.filters) {\n            this.$(\".pokedex\").addClass(\"aboveresults\");\n            this.activeLink = this.search.el.getElementsByTagName(\"a\")[0];\n            $(this.activeLink).addClass(\"active\");\n        } else {\n            this.$(\".pokedex\").removeClass(\"aboveresults\");\n            this.activeLink = null;\n        }\n    },\n    checkExactMatch: function() {\n        if (this.search && this.search.exactMatch && this.search.q !== \"metronome\" && this.search.q !== \"psychic\") setTimeout((function() {\n            this.app.go($(this.activeLink).attr(\"href\"), this, false, $(this.activeLink), true);\n        }).bind(this));\n    }\n});\n\n\n//# sourceMappingURL=index.b1cdec65.js.map\n","window.PokedexSearchPanel = Panels.Panel.extend({\n\tminWidth: 639,\n\tmaxWidth: 639,\n\tsidebarWidth: 280,\n\tsearch: null,\n\tevents: {\n\t\t'keyup input.searchbox': 'updateSearch',\n\t\t'change input.searchbox': 'updateSearch',\n\t\t'search input.searchbox': 'updateSearch',\n\t\t'submit': 'submit',\n\t\t'keydown': 'keydown',\n\t\t'keyup': 'keyup',\n\t\t'click': 'click',\n\t\t'click .result a': 'clickResult',\n\t\t'click .filter': 'removeFilter',\n\t\t'mouseover .result a': 'hoverlink'\n\t},\n\tactiveLink: null,\n\tinitialize: function () {\n\t\tvar fragment = this.fragment.slice(Config.baseurl.length - 1);\n\t\tvar questionIndex = fragment.indexOf('?');\n\t\tif (fragment === 'moves') fragment = 'moves/';\n\t\tif (fragment === 'pokemon') fragment = 'pokemon/';\n\t\tif (questionIndex >= 0) fragment = fragment.slice(0, questionIndex);\n\t\tvar buf = '<div class=\"pfx-body\"><form class=\"pokedex\">';\n\t\tbuf += '<h1><a href=\"'+Config.baseurl+'\"\" data-target=\"replace\">Pok&eacute;dex</a></h1>';\n\t\tbuf += '<ul class=\"tabbar centered\" style=\"margin-bottom: 18px\"><li><button class=\"button nav-first' + (fragment === '' ? ' cur' : '') + '\" value=\"'+Config.baseurl+'\">Search</button></li>';\n\t\tbuf += '<li><button class=\"button' + (fragment === 'pokemon/' ? ' cur' : '') + '\" value=\"'+Config.baseurl+'pokemon/\">Pok&eacute;mon</button></li>';\n\t\tbuf += '<li><button class=\"button nav-last' + (fragment === 'moves/' ? ' cur' : '') + '\" value=\"'+Config.baseurl+'moves/\">Moves</button></li></ul>';\n\t\tbuf += '<div class=\"searchboxwrapper\"><input class=\"textbox searchbox\" type=\"search\" name=\"q\" value=\"' + escapeHTML(this.$('.searchbox').val() || '') + '\" autocomplete=\"off\" autofocus placeholder=\"Search Pok&eacute;mon, moves, abilities, items, types, or more\" /></div>';\n\t\tif (fragment === '') {\n\t\t\tbuf += '<p class=\"buttonbar\"><button class=\"button\"><strong>Pok&eacute;dex Search</strong></button> <button name=\"lucky\" class=\"button\">I\\'m Feeling Lucky</button></p>';\n\t\t}\n\t\tbuf += '</form>';\n\t\tbuf += '<div class=\"results\"></div></div>';\n\t\tthis.$el.html(buf);\n\t\tvar $searchbox = this.$('.searchbox');\n\t\tthis.$searchbox = $searchbox;\n\t\tthis.$searchfilters = null;\n\t\tvar results = this.$('.results');\n\t\tif (results.length) {\n\t\t\tvar search = this.search = new BattleSearch(results, this.$el);\n\t\t\tthis.$el.on('scroll', function () {\n\t\t\t\tsearch.updateScroll();\n\t\t\t});\n\t\t\tif (fragment === 'pokemon/') {\n\t\t\t\tsearch.setType('pokemon');\n\t\t\t\t$searchbox.attr('placeholder', 'Search pokemon OR filter by type, move, ability, egg group');\n\t\t\t\tthis.$('.buttonbar').remove();\n\t\t\t} else if (fragment === 'moves/') {\n\t\t\t\tsearch.setType('move');\n\t\t\t\t$searchbox.attr('placeholder', 'Search moves OR filter by type, category, pokemon');\n\t\t\t\tthis.$('.buttonbar').remove();\n\t\t\t}\n\t\t\tthis.search.externalFilter = true;\n\t\t} else {\n\t\t\tthis.search = null;\n\t\t}\n\t\t$searchbox.focus();\n\t\tthis.find($searchbox.val());\n\t\tthis.checkExactMatch();\n\t},\n\tupdateSearch: function(e) {\n\t\tthis.find(e.currentTarget.value);\n\t},\n\tremoveFilter: function(e) {\n\t\tthis.search.removeFilter(e);\n\t\tthis.updateFilters();\n\t\tthis.$searchbox.focus();\n\t},\n\tupdateFilters: function() {\n\t\t// this.search.externalFilter = true;\n\t\tvar buf = '';\n\t\tif (this.search.qType === 'pokemon') {\n\t\t\tbuf = '<button class=\"filter noclear\" value=\":\">Pokémon</button> ';\n\t\t} else if (this.search.qType === 'move') {\n\t\t\tbuf = '<button class=\"filter noclear\" value=\":\">Moves</button> ';\n\t\t} else {\n\t\t\tthis.$('.searchbox-filters').remove();\n\t\t\tthis.$searchbox.css('padding', '2px');\n\t\t\treturn;\n\t\t}\n\t\tif (this.search.filters) {\n\t\t\tfor (var i = 0; i < this.search.filters.length; i++) {\n\t\t\t\tvar filter = this.search.filters[i];\n\t\t\t\tvar text = filter[1];\n\t\t\t\tif (filter[0] === 'move') text = getID(BattleMovedex, text).name;\n\t\t\t\tif (filter[0] === 'pokemon') text = getID(BattlePokedex, text).name;\n\t\t\t\tbuf += '<button class=\"filter\" value=\"' + escapeHTML(filter.join(':')) + '\">' + text + ' <i class=\"fa fa-times-circle\"></i></button> ';\n\t\t\t}\n\t\t}\n\t\tif (!this.$searchfilters) {\n\t\t\tthis.$searchfilters = $('<div class=\"searchbox-filters\"></div>').insertAfter(this.$searchbox);\n\t\t}\n\t\tthis.$searchfilters.html(buf);\n\t\tvar filterWidth = this.$searchfilters.width();\n\t\tif (filterWidth > this.$searchbox.outerWidth() / 2) {\n\t\t\tthis.$searchbox.css('padding', '' + (this.$searchfilters.height() + 4) + 'px 2px 2px 2px');\n\t\t} else {\n\t\t\tthis.$searchbox.css('padding', '2px 2px 2px ' + (filterWidth + 6) + 'px');\n\t\t}\n\t},\n\tsubmit: function(e) {\n\t\te.preventDefault();\n\t\tthis.$('.searchbox').attr('placeholder', 'Type in: Pokemon, move, item, ability...').focus();\n\t},\n\tkeyup: function (e) {\n\t\tvar val = this.$searchbox.val();\n\t\tvar id = toID(val);\n\t\tif (!id) return;\n\t\tvar lastchar = val.charAt(val.length - 1);\n\t\tif (lastchar === ',' || lastchar === ' ') {\n\t\t\tif (id === 'ds' || id === 'dexsearch' || id === 'pokemon') {\n\t\t\t\tthis.app.go('pokemon/', this, true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (id === 'ms' || id === 'movesearch' || id === 'move' || id === 'moves') {\n\t\t\t\tthis.app.go('moves/', this, true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (lastchar === ',') {\n\t\t\tif (this.search.addFilter(this.activeLink)) {\n\t\t\t\tthis.$searchbox.val('');\n\t\t\t\tthis.find('');\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t},\n\tkeydown: function(e) {\n\t\tswitch (e.keyCode) {\n\t\tcase 13: // enter\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tif (this.search.addFilter(this.activeLink)) {\n\t\t\t\tthis.$searchbox.val('');\n\t\t\t\tthis.find('');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.activeLink) {\n\t\t\t\tvar path = this.activeLink.pathname.substr(1);\n\t\t\t\tif (path === 'moves/' || path === 'pokemon/') {\n\t\t\t\t\tthis.app.go(path, this, true);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.app.go(path, this, false, $(this.activeLink));\n\t\t\t} else if (!this.$searchbox.val()) {\n\t\t\t\tthis.app.slicePanel(this);\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 188: // comma\n\t\t\tif (this.search.addFilter(this.activeLink)) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tthis.$searchbox.val('');\n\t\t\t\tthis.find('');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 32: // space\n\t\t\tvar id = toID(this.$searchbox.val());\n\t\t\tif (id === 'ds' || id === 'pokemon') {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tthis.app.go('pokemon/', this, true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (id === 'ms' || id === 'move' || id === 'moves') {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tthis.app.go('moves/', this, true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 38: // up\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tvar $link = $(this.activeLink).parent().prev();\n\t\t\twhile ($link[0] && $link[0].firstChild.tagName !== 'A') $link = $link.prev();\n\t\t\tif ($link[0] && $link.children()[0]) {\n\t\t\t\t$(this.activeLink).removeClass('active');\n\t\t\t\tthis.activeLink = $link.children()[0];\n\t\t\t\t$(this.activeLink).addClass('active');\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 40: // down\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tvar $link = $(this.activeLink).parent().next();\n\t\t\twhile ($link[0] && $link[0].firstChild.tagName !== 'A') $link = $link.next();\n\t\t\tif ($link[0] && $link.children()[0]) {\n\t\t\t\t$(this.activeLink).removeClass('active');\n\t\t\t\tthis.activeLink = $link.children()[0];\n\t\t\t\t$(this.activeLink).addClass('active');\n\t\t\t}\n\t\t\tbreak;\n\t\tcase 27: // esc\n\t\tcase 8: // backspace\n\t\t\tif (this.$searchbox.val()) break;\n\n\t\t\tif (this.search.removeFilter()) {\n\t\t\t\tthis.find('');\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.search.qType) {\n\t\t\t\tthis.app.go('', this, true);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (this.app.panels.length > 1) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tthis.app.slicePanel(this);\n\t\t\t}\n\t\t\tbreak;\n\t\t}\n\t},\n\tclick: function(e) {\n\t\tif (e.target.tagName === 'BUTTON' && $(e.target).closest('.tabbar').length) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tthis.app.go(e.target.value, this, true);\n\t\t\treturn;\n\t\t}\n\t\tif (e.target.tagName === 'BUTTON' && e.target.name === 'lucky') {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\talert(['That\\'s pretty cool.','Your mom\\'s feeling lucky.','I see.','If you feel lucky for more than four hours, perhaps you should see a doctor.'][Math.floor(Math.random()*4)]);\n\t\t\treturn;\n\t\t}\n\t\tvar scrollLoc = this.$el.scrollTop();\n\t\tthis.$searchbox.focus();\n\t\tthis.$el.scrollTop(scrollLoc);\n\t},\n\tclickResult: function(e) {\n\t\tif (this.search.addFilter(e.currentTarget)) {\n\t\t\te.preventDefault();\n\t\t\te.stopImmediatePropagation();\n\t\t\tthis.$searchbox.val('');\n\t\t\tthis.find('');\n\t\t\treturn;\n\t\t}\n\t},\n\thoverlink: function(e) {\n\t\t$(this.activeLink).removeClass('active');\n\t\tthis.activeLink = e.currentTarget;\n\t\t$(this.activeLink).addClass('active');\n\t},\n\tfind: function(val) {\n\t\tif (!this.search) return;\n\t\tif (!val) val = '';\n\t\tthis.updateFilters();\n\t\tif (!this.search.find(val)) return;\n\t\tif (this.search.q || this.search.filters) {\n\t\t\tthis.$('.pokedex').addClass('aboveresults');\n\t\t\tthis.activeLink = this.search.el.getElementsByTagName('a')[0];\n\t\t\t$(this.activeLink).addClass('active');\n\t\t} else {\n\t\t\tthis.$('.pokedex').removeClass('aboveresults');\n\t\t\tthis.activeLink = null;\n\t\t}\n\t},\n\tcheckExactMatch: function() {\n\t\tif (this.search && this.search.exactMatch && this.search.q !== 'metronome' && this.search.q !== 'psychic') {\n\t\t\tsetTimeout(function(){\n\t\t\t\tthis.app.go($(this.activeLink).attr('href'), this, false, $(this.activeLink), true);\n\t\t\t}.bind(this));\n\t\t}\n\t}\n});\n"],"names":["window","PokedexSearchPanel","Panels","Panel","extend","minWidth","maxWidth","sidebarWidth","search","events","activeLink","initialize","fragment","slice","Config","baseurl","length","questionIndex","indexOf","buf","escapeHTML","$","val","$el","html","$searchbox","$searchfilters","results","BattleSearch","on","updateScroll","setType","attr","remove","externalFilter","focus","find","checkExactMatch","updateSearch","e","currentTarget","value","removeFilter","updateFilters","qType","css","filters","i","filter","text","getID","BattleMovedex","name","BattlePokedex","join","insertAfter","filterWidth","width","outerWidth","height","submit","preventDefault","keyup","id","toID","lastchar","charAt","app","go","addFilter","keydown","keyCode","stopPropagation","path","pathname","substr","slicePanel","$link","parent","prev","firstChild","tagName","children","removeClass","addClass","next","panels","click","target","closest","alert","Math","floor","random","scrollLoc","scrollTop","clickResult","stopImmediatePropagation","hoverlink","q","el","getElementsByTagName","exactMatch","setTimeout","bind"],"version":3,"file":"index.b1cdec65.js.map"}