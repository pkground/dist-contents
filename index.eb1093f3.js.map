{"mappings":"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","sources":["<anon>","js/search.js"],"sourcesContent":["var $ad1ba05b7cbb749b$exports = {};\n/**\n * Search\n *\n * Basically just an improved version of utilichart\n *\n * Dependencies: jQuery, battledata, search-index\n * Optional dependencies: pokedex, moves, items, abilities\n *\n * @author Guangcong Luo <guangcongluo@gmail.com>\n */ (function(exports, $) {\n    \"use strict\";\n    function Search(elem, viewport) {\n        this.$el = $(elem);\n        this.el = this.$el[0];\n        this.$viewport = viewport ? $(viewport) : $(window);\n        this.urlRoot = \"\";\n        this.q = undefined; // uninitialized\n        this.exactMatch = false;\n        this.resultSet = null;\n        this.filters = null;\n        this.sortCol = null;\n        this.renderedIndex = 0;\n        this.renderingDone = true;\n        this.externalFilter = false;\n        this.cur = {};\n        this.$inputEl = null;\n        this.gen = 9;\n        this.mod = null;\n        this.engine = new DexSearch();\n        window.search = this;\n        var self = this;\n        this.$el.on(\"click\", \".more button\", function(e) {\n            e.preventDefault();\n            self.updateScroll(true);\n        });\n        this.$el.on(\"click\", \".filter\", function(e) {\n            e.preventDefault();\n            self.removeFilter(e);\n            if (self.$inputEl) self.$inputEl.focus();\n        });\n        this.$el.on(\"click\", \".sortcol\", function(e) {\n            e.preventDefault();\n            e.stopPropagation();\n            var sortCol = e.currentTarget.dataset.sort;\n            self.engine.toggleSort(sortCol);\n            self.sortCol = self.engine.sortCol;\n            self.find(\"\");\n        });\n    }\n    Search.prototype.$ = function(query) {\n        return this.$el.find(query);\n    };\n    //\n    // Search functions\n    //\n    Search.prototype.find = function(query, firstElem) {\n        if (!this.engine.find(query)) return; // nothing changed\n        this.exactMatch = this.engine.exactMatch;\n        this.q = this.engine.query;\n        this.resultSet = this.engine.results;\n        if (firstElem) {\n            this.resultSet = [\n                [\n                    this.engine.typedSearch.searchType,\n                    firstElem\n                ]\n            ].concat(this.resultSet);\n            if (this.resultSet.length > 1 && [\n                \"sortpokemon\",\n                \"sortmove\"\n            ].includes(this.resultSet[1][0])) {\n                var sortRow = this.resultSet[1];\n                this.resultSet[1] = this.resultSet[0];\n                this.resultSet[0] = sortRow;\n            }\n        }\n        if (this.filters) this.resultSet = [\n            [\n                \"html\",\n                this.getFilterText()\n            ]\n        ].concat(this.resultSet);\n        this.renderedIndex = 0;\n        this.renderingDone = false;\n        this.updateScroll();\n        return true;\n    };\n    Search.prototype.addFilter = function(node) {\n        if (!node.dataset.entry) return false;\n        var entry = node.dataset.entry.split(\"|\");\n        var result = this.engine.addFilter(entry);\n        this.filters = this.engine.filters;\n        return result;\n    };\n    Search.prototype.removeFilter = function(e) {\n        var result;\n        if (e) result = this.engine.removeFilter(e.currentTarget.value.split(\":\"));\n        else result = this.engine.removeFilter();\n        this.filters = this.engine.filters;\n        this.find(\"\");\n        return result;\n    };\n    Search.prototype.getFilterText = function(q) {\n        var buf = \"<p>Filters: \";\n        for(var i = 0; i < this.filters.length; i++){\n            var text = this.filters[i][1];\n            if (this.filters[i][0] === \"move\") text = getID(BattleMovedex, text).name;\n            if (this.filters[i][0] === \"pokemon\") text = getID(BattlePokedex, text).name;\n            buf += '<button class=\"filter\" value=\"' + escapeHTML(this.filters[i].join(\":\")) + '\">' + text + ' <i class=\"fa fa-times-circle\"></i></button> ';\n        }\n        if (!q) buf += '<small style=\"color: #888\">(backspace = delete filter)</small>';\n        return buf + \"</p>\";\n    };\n    Search.prototype.updateScroll = function(forceAdd) {\n        if (this.renderingDone) return;\n        var top = this.$viewport.scrollTop();\n        var bottom = top + this.$viewport.height();\n        var windowHeight = $(window).height();\n        var i = this.renderedIndex;\n        var finalIndex = Math.floor(bottom / 33) + 1;\n        if (!forceAdd && finalIndex <= i) return;\n        if (finalIndex < i + 20) finalIndex = i + 20;\n        if (bottom - top > windowHeight && !i) finalIndex = 20;\n        if (forceAdd && finalIndex > i + 40) finalIndex = i + 40;\n        var resultSet = this.resultSet;\n        var buf = \"\";\n        while(i < finalIndex){\n            if (!resultSet[i]) {\n                this.renderingDone = true;\n                break;\n            }\n            var row = resultSet[i];\n            var errorMessage = \"\";\n            var label;\n            if (label = this.engine.filterLabel(row[0])) errorMessage = '<span class=\"col filtercol\"><em>' + label + \"</em></span>\";\n            else if (label = this.engine.illegalLabel(row[1])) errorMessage = '<span class=\"col illegalcol\"><em>' + label + \"</em></span>\";\n            var mStart = 0;\n            var mEnd = 0;\n            if (row.length > 3) {\n                mStart = row[2];\n                mEnd = row[3];\n            }\n            buf += this.renderRow(row[1], row[0], mStart, mEnd, errorMessage, row[1] in this.cur ? ' class=\"cur\"' : \"\");\n            i++;\n        }\n        if (!this.renderedIndex) {\n            this.el.innerHTML = '<ul class=\"utilichart\" style=\"height:' + resultSet.length * 33 + 'px\">' + buf + (!this.renderingDone ? '<li class=\"result more\"><p><button class=\"button big\">More</button></p></li>' : \"\") + \"</ul>\";\n            this.moreVisible = true;\n        } else {\n            if (this.moreVisible) {\n                this.$el.find(\".more\").remove();\n                if (!forceAdd) this.moreVisible = false;\n            }\n            $(this.el.firstChild).append(buf + (forceAdd && !this.renderingDone ? '<li class=\"result more\"><p><button class=\"button big\">More</button></p></li>' : \"\"));\n        }\n        this.renderedIndex = i;\n    };\n    Search.prototype.setType = function(qType, format, set, cur) {\n        this.engine.setType(qType, format, set);\n        this.filters = this.engine.filters;\n        this.sortCol = this.engine.sortCol;\n        this.cur = cur || {};\n        var firstElem;\n        for(var id in cur){\n            firstElem = id;\n            break;\n        }\n        this.find(\"\", firstElem);\n    };\n    /*********************************************************\n\t * Rendering functions\n\t *********************************************************/ // These all have static versions\n    Search.prototype.renderRow = function(id, type, matchStart, matchLength, errorMessage, attrs) {\n        // errorMessage = '<span class=\"col illegalcol\"><em>' + errorMessage + '</em></span>';\n        switch(type){\n            case \"html\":\n                return '<li class=\"result\">' + id + \"</li>\";\n            case \"header\":\n                return '<li class=\"result\"><h3>' + id + \"</h3></li>\";\n            case \"sortpokemon\":\n                return this.renderPokemonSortRow();\n            case \"sortmove\":\n                return this.renderMoveSortRow();\n            case \"pokemon\":\n                var pokemon = getID(BattlePokedex, id);\n                return this.renderPokemonRow(pokemon, matchStart, matchLength, errorMessage, attrs);\n            case \"move\":\n                var move = getID(BattleMovedex, id);\n                return this.renderMoveRow(move, matchStart, matchLength, errorMessage, attrs);\n            case \"item\":\n                var item = getID(BattleItems, id);\n                return this.renderItemRow(item, matchStart, matchLength, errorMessage, attrs);\n            case \"ability\":\n                var ability = getID(BattleAbilities, id);\n                return this.renderAbilityRow(ability, matchStart, matchLength, errorMessage, attrs);\n            case \"type\":\n                var type = {\n                    name: id[0].toUpperCase() + id.substr(1)\n                };\n                return this.renderTypeRow(type, matchStart, matchLength, errorMessage);\n            case \"egggroup\":\n                // very hardcode\n                var egName;\n                if (id === \"humanlike\") egName = \"Human-Like\";\n                else if (id === \"water1\") egName = \"Water 1\";\n                else if (id === \"water2\") egName = \"Water 2\";\n                else if (id === \"water3\") egName = \"Water 3\";\n                if (egName) {\n                    if (matchLength > 5) matchLength++;\n                } else egName = id[0].toUpperCase() + id.substr(1);\n                var egggroup = {\n                    name: egName\n                };\n                return this.renderEggGroupRow(egggroup, matchStart, matchLength, errorMessage);\n            case \"tier\":\n                // very hardcode\n                var tierTable = {\n                    uber: \"Uber\",\n                    ou: \"OU\",\n                    uu: \"UU\",\n                    ru: \"RU\",\n                    nu: \"NU\",\n                    pu: \"PU\",\n                    zu: \"(PU)\",\n                    nfe: \"NFE\",\n                    lc: \"LC\",\n                    cap: \"CAP\",\n                    caplc: \"CAP LC\",\n                    capnfe: \"CAP NFE\",\n                    uubl: \"UUBL\",\n                    rubl: \"RUBL\",\n                    nubl: \"NUBL\",\n                    publ: \"PUBL\"\n                };\n                var tier = {\n                    name: tierTable[id]\n                };\n                return this.renderTierRow(tier, matchStart, matchLength, errorMessage);\n            case \"category\":\n                var category = {\n                    name: id[0].toUpperCase() + id.substr(1),\n                    id: id\n                };\n                return this.renderCategoryRow(category, matchStart, matchLength, errorMessage);\n            case \"article\":\n                var articleTitle = window.BattleArticleTitles && BattleArticleTitles[id] || id[0].toUpperCase() + id.substr(1);\n                var article = {\n                    name: articleTitle,\n                    id: id\n                };\n                return this.renderArticleRow(article, matchStart, matchLength, errorMessage);\n        }\n        return \"Error: not found\";\n    };\n    Search.prototype.renderPokemonSortRow = function() {\n        var buf = '<li class=\"result\"><div class=\"sortrow\">';\n        buf += '<button class=\"sortcol numsortcol' + (!this.sortCol ? \" cur\" : \"\") + '\">' + (!this.sortCol ? \"Sort: \" : this.engine.firstPokemonColumn) + \"</button>\";\n        buf += '<button class=\"sortcol pnamesortcol' + (this.sortCol === \"name\" ? \" cur\" : \"\") + '\" data-sort=\"name\">Name</button>';\n        buf += '<button class=\"sortcol typesortcol' + (this.sortCol === \"type\" ? \" cur\" : \"\") + '\" data-sort=\"type\">Types</button>';\n        buf += '<button class=\"sortcol abilitysortcol' + (this.sortCol === \"ability\" ? \" cur\" : \"\") + '\" data-sort=\"ability\">Abilities</button>';\n        buf += '<button class=\"sortcol statsortcol' + (this.sortCol === \"hp\" ? \" cur\" : \"\") + '\" data-sort=\"hp\">HP</button>';\n        buf += '<button class=\"sortcol statsortcol' + (this.sortCol === \"atk\" ? \" cur\" : \"\") + '\" data-sort=\"atk\">Atk</button>';\n        buf += '<button class=\"sortcol statsortcol' + (this.sortCol === \"def\" ? \" cur\" : \"\") + '\" data-sort=\"def\">Def</button>';\n        buf += '<button class=\"sortcol statsortcol' + (this.sortCol === \"spa\" ? \" cur\" : \"\") + '\" data-sort=\"spa\">SpA</button>';\n        buf += '<button class=\"sortcol statsortcol' + (this.sortCol === \"spd\" ? \" cur\" : \"\") + '\" data-sort=\"spd\">SpD</button>';\n        buf += '<button class=\"sortcol statsortcol' + (this.sortCol === \"spe\" ? \" cur\" : \"\") + '\" data-sort=\"spe\">Spe</button>';\n        buf += '<button class=\"sortcol statsortcol' + (this.sortCol === \"bst\" ? \" cur\" : \"\") + '\" data-sort=\"bst\">BST</button>';\n        buf += \"</div></li>\";\n        return buf;\n    };\n    Search.prototype.renderMoveSortRow = function() {\n        var buf = '<li class=\"result\"><div class=\"sortrow\">';\n        buf += '<button class=\"sortcol movenamesortcol' + (this.sortCol === \"name\" ? \" cur\" : \"\") + '\" data-sort=\"name\">Name</button>';\n        buf += '<button class=\"sortcol movetypesortcol' + (this.sortCol === \"type\" ? \" cur\" : \"\") + '\" data-sort=\"type\">Type</button>';\n        buf += '<button class=\"sortcol movetypesortcol' + (this.sortCol === \"category\" ? \" cur\" : \"\") + '\" data-sort=\"category\">Cat</button>';\n        buf += '<button class=\"sortcol powersortcol' + (this.sortCol === \"power\" ? \" cur\" : \"\") + '\" data-sort=\"power\">Pow</button>';\n        buf += '<button class=\"sortcol accuracysortcol' + (this.sortCol === \"accuracy\" ? \" cur\" : \"\") + '\" data-sort=\"accuracy\">Acc</button>';\n        buf += '<button class=\"sortcol ppsortcol' + (this.sortCol === \"pp\" ? \" cur\" : \"\") + '\" data-sort=\"pp\">PP</button>';\n        buf += \"</div></li>\";\n        return buf;\n    };\n    Search.prototype.renderPokemonRow = function(pokemon, matchStart, matchLength, errorMessage, attrs) {\n        if (!attrs) attrs = \"\";\n        if (!pokemon) return '<li class=\"result\">Unrecognized pokemon</li>';\n        var id = toID(pokemon.name);\n        if (Search.urlRoot) attrs += ' href=\"' + Search.urlRoot + \"pokemon/\" + id + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"pokemon|' + escapeHTML(pokemon.name) + '\">';\n        buf += '<span class=\"col numcol\">' + pokemon.num + \"</span> \";\n        // icon\n        buf += '<span class=\"col iconcol\">';\n        buf += '<span style=\"' + getPokemonIcon(pokemon.name) + '\"></span>';\n        buf += \"</span> \";\n        // name\n        var name = pokemon.name;\n        var tagStart = pokemon.forme ? name.length - pokemon.forme.length - 1 : 0;\n        if (tagStart) name = name.substr(0, tagStart);\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        if (tagStart) {\n            if (matchLength && matchStart + matchLength > tagStart) {\n                if (matchStart < tagStart) {\n                    matchLength -= tagStart - matchStart;\n                    matchStart = tagStart;\n                }\n                name += \"<small>\" + pokemon.name.substr(tagStart, matchStart - tagStart) + \"<b>\" + pokemon.name.substr(matchStart, matchLength) + \"</b>\" + pokemon.name.substr(matchStart + matchLength) + \"</small>\";\n            } else name += \"<small>\" + pokemon.name.substr(tagStart) + \"</small>\";\n        }\n        buf += '<span class=\"col pokemonnamecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        // type\n        buf += '<span class=\"col typecol\">';\n        var types = pokemon.types;\n        for(var i = 0; i < types.length; i++)buf += getTypeIcon(types[i]);\n        buf += \"</span> \";\n        var abilities = pokemon.abilities;\n        if (abilities[\"1\"]) buf += '<span class=\"col twoabilitycol\">' + abilities[\"0\"] + \"<br />\" + abilities[\"1\"] + \"</span>\";\n        else buf += '<span class=\"col abilitycol\">' + abilities[\"0\"] + \"</span>\";\n        if (abilities[\"S\"]) {\n            if (abilities[\"H\"]) buf += '<span class=\"col twoabilitycol\">' + (abilities[\"H\"] || \"\") + \"<br />(\" + abilities[\"S\"] + \")</span>\";\n            else buf += '<span class=\"col abilitycol\">(' + abilities[\"S\"] + \")</span>\";\n        } else if (abilities[\"H\"]) buf += '<span class=\"col abilitycol\">' + abilities[\"H\"] + \"</span>\";\n        else buf += '<span class=\"col abilitycol\"></span>';\n        // base stats\n        var stats = pokemon.baseStats;\n        buf += '<span class=\"col statcol\"><em>HP</em><br />' + stats.hp + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>Atk</em><br />' + stats.atk + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>Def</em><br />' + stats.def + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>SpA</em><br />' + stats.spa + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>SpD</em><br />' + stats.spd + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>Spe</em><br />' + stats.spe + \"</span> \";\n        var bst = 0;\n        for(i in stats)bst += stats[i];\n        buf += '<span class=\"col bstcol\"><em>BST<br />' + bst + \"</em></span> \";\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderTaggedPokemonRowInner = function(pokemon, tag, errorMessage) {\n        var attrs = \"\";\n        if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"pokemon/\" + toID(pokemon.name) + '\" data-target=\"push\"';\n        var buf = \"<a\" + attrs + ' data-entry=\"pokemon|' + escapeHTML(pokemon.name) + '\">';\n        // tag\n        buf += '<span class=\"col tagcol shorttagcol\">' + tag + \"</span> \";\n        // icon\n        buf += '<span class=\"col iconcol\">';\n        buf += '<span style=\"' + getPokemonIcon(pokemon.name) + '\"></span>';\n        buf += \"</span> \";\n        // name\n        var name = pokemon.name;\n        var tagStart = pokemon.forme ? name.length - pokemon.forme.length - 1 : 0;\n        if (tagStart) name = name.substr(0, tagStart) + \"<small>\" + pokemon.name.substr(tagStart) + \"</small>\";\n        buf += '<span class=\"col shortpokemonnamecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        // type\n        buf += '<span class=\"col typecol\">';\n        for(var i = 0; i < pokemon.types.length; i++)buf += getTypeIcon(pokemon.types[i]);\n        buf += \"</span> \";\n        // abilities\n        buf += '<span style=\"float:left;min-height:26px\">';\n        if (pokemon.abilities[\"1\"]) buf += '<span class=\"col twoabilitycol\">';\n        else buf += '<span class=\"col abilitycol\">';\n        for(var i in pokemon.abilities){\n            var ability = pokemon.abilities[i];\n            if (!ability) continue;\n            if (i === \"1\") buf += \"<br />\";\n            if (i === \"H\") ability = '</span><span class=\"col abilitycol\"><em>' + pokemon.abilities[i] + \"</em>\";\n            buf += ability;\n        }\n        if (!pokemon.abilities[\"H\"]) buf += '</span><span class=\"col abilitycol\">';\n        buf += \"</span>\";\n        buf += \"</span>\";\n        // base stats\n        buf += '<span style=\"float:left;min-height:26px\">';\n        buf += '<span class=\"col statcol\"><em>HP</em><br />' + pokemon.baseStats.hp + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>Atk</em><br />' + pokemon.baseStats.atk + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>Def</em><br />' + pokemon.baseStats.def + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>SpA</em><br />' + pokemon.baseStats.spa + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>SpD</em><br />' + pokemon.baseStats.spd + \"</span> \";\n        buf += '<span class=\"col statcol\"><em>Spe</em><br />' + pokemon.baseStats.spe + \"</span> \";\n        var bst = 0;\n        for(i in pokemon.baseStats)bst += pokemon.baseStats[i];\n        buf += '<span class=\"col bstcol\"><em>BST<br />' + bst + \"</em></span> \";\n        buf += \"</span>\";\n        buf += \"</a>\";\n        return buf;\n    };\n    Search.prototype.renderItemRow = function(item, matchStart, matchLength, errorMessage, attrs) {\n        if (!attrs) attrs = \"\";\n        if (!item) return '<li class=\"result\">Unrecognized item</li>';\n        var id = toID(item.name);\n        if (Search.urlRoot) attrs += ' href=\"' + Search.urlRoot + \"items/\" + id + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"item|' + escapeHTML(item.name) + '\">';\n        // icon\n        buf += '<span class=\"col itemiconcol\">';\n        buf += '<span style=\"' + getItemIcon(item) + '\"></span>';\n        buf += \"</span> \";\n        // name\n        var name = item.name;\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        buf += '<span class=\"col namecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        // desc\n        buf += '<span class=\"col itemdesccol\">' + escapeHTML(item.shortDesc) + \"</span> \";\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderAbilityRow = function(ability, matchStart, matchLength, errorMessage, attrs) {\n        if (!attrs) attrs = \"\";\n        if (!ability) return '<li class=\"result\">Unrecognized ability</li>';\n        var id = toID(ability.name);\n        if (Search.urlRoot) attrs += ' href=\"' + Search.urlRoot + \"abilities/\" + id + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"ability|' + escapeHTML(ability.name) + '\">';\n        // name\n        var name = ability.name;\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        buf += '<span class=\"col namecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        buf += '<span class=\"col abilitydesccol\">' + escapeHTML(ability.shortDesc) + \"</span> \";\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderMoveRow = function(move, matchStart, matchLength, errorMessage, attrs) {\n        if (!attrs) attrs = \"\";\n        if (!move) return '<li class=\"result\">Unrecognized move</li>';\n        var id = toID(move.name);\n        if (Search.urlRoot) attrs += ' href=\"' + Search.urlRoot + \"moves/\" + id + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"move|' + escapeHTML(move.name) + '\">';\n        // name\n        var name = move.name;\n        var tagStart = name.substr(0, 12) === \"Hidden Power\" ? 12 : 0;\n        if (tagStart) name = name.substr(0, tagStart);\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        if (tagStart) {\n            if (matchLength && matchStart + matchLength > tagStart) {\n                if (matchStart < tagStart) {\n                    matchLength -= tagStart - matchStart;\n                    matchStart = tagStart;\n                }\n                name += \"<small>\" + move.name.substr(tagStart, matchStart - tagStart) + \"<b>\" + move.name.substr(matchStart, matchLength) + \"</b>\" + move.name.substr(matchStart + matchLength) + \"</small>\";\n            } else name += \"<small>\" + move.name.substr(tagStart) + \"</small>\";\n        }\n        buf += '<span class=\"col movenamecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        // type\n        buf += '<span class=\"col typecol\">';\n        buf += getTypeIcon(move.type);\n        buf += getCategoryIcon(move.category);\n        buf += \"</span> \";\n        // power, accuracy, pp\n        var pp = Math.floor(move.pp === 1 || move.noPPBoosts ? move.pp : move.pp * 8 / 5);\n        buf += '<span class=\"col labelcol\">' + (move.category !== \"Status\" ? \"<em>Power</em><br />\" + (move.basePower || \"&mdash;\") : \"\") + \"</span> \";\n        buf += '<span class=\"col widelabelcol\"><em>Accuracy</em><br />' + (move.accuracy && move.accuracy !== true ? move.accuracy + \"%\" : \"&mdash;\") + \"</span> \";\n        buf += '<span class=\"col pplabelcol\"><em>PP</em><br />' + pp + \"</span> \";\n        // desc\n        buf += '<span class=\"col movedesccol\">' + escapeHTML(move.shortDesc) + \"</span> \";\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderMoveRowInner = function(move, errorMessage) {\n        var attrs = \"\";\n        if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"moves/\" + toID(move.name) + '\" data-target=\"push\"';\n        var buf = \"<a\" + attrs + ' data-entry=\"move|' + escapeHTML(move.name) + '\">';\n        // name\n        var name = move.name;\n        var tagStart = name.substr(0, 12) === \"Hidden Power\" ? 12 : 0;\n        if (tagStart) name = name.substr(0, tagStart) + \"<small>\" + move.name.substr(tagStart) + \"</small>\";\n        buf += '<span class=\"col movenamecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        // type\n        buf += '<span class=\"col typecol\">';\n        buf += getTypeIcon(move.type);\n        buf += getCategoryIcon(move.category);\n        buf += \"</span> \";\n        // power, accuracy, pp\n        var pp = move.pp === 1 || move.noPPBoosts ? move.pp : move.pp * 8 / 5;\n        buf += '<span class=\"col labelcol\">' + (move.category !== \"Status\" ? \"<em>Power</em><br />\" + (move.basePower || \"&mdash;\") : \"\") + \"</span> \";\n        buf += '<span class=\"col widelabelcol\"><em>Accuracy</em><br />' + (move.accuracy && move.accuracy !== true ? move.accuracy + \"%\" : \"&mdash;\") + \"</span> \";\n        buf += '<span class=\"col pplabelcol\"><em>PP</em><br />' + pp + \"</span> \";\n        // desc\n        buf += '<span class=\"col movedesccol\">' + escapeHTML(move.shortDesc || move.desc) + \"</span> \";\n        buf += \"</a>\";\n        return buf;\n    };\n    Search.prototype.renderTaggedMoveRow = function(move, tag, errorMessage) {\n        var attrs = \"\";\n        if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"moves/\" + toID(move.name) + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"move|' + escapeHTML(move.name) + '\">';\n        // tag\n        buf += '<span class=\"col tagcol\">' + tag + \"</span> \";\n        // name\n        var name = move.name;\n        if (name.substr(0, 12) === \"Hidden Power\") name = \"Hidden Power\";\n        buf += '<span class=\"col shortmovenamecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        // type\n        buf += '<span class=\"col typecol\">';\n        buf += getTypeIcon(move.type);\n        buf += getCategoryIcon(move.category);\n        buf += \"</span> \";\n        // power, accuracy, pp\n        buf += '<span class=\"col labelcol\">' + (move.category !== \"Status\" ? \"<em>Power</em><br />\" + (move.basePower || \"&mdash;\") : \"\") + \"</span> \";\n        buf += '<span class=\"col widelabelcol\"><em>Accuracy</em><br />' + (move.accuracy && move.accuracy !== true ? move.accuracy + \"%\" : \"&mdash;\") + \"</span> \";\n        buf += '<span class=\"col pplabelcol\"><em>PP</em><br />' + (move.noPPBoosts ? move.pp : move.pp * 8 / 5) + \"</span> \";\n        // desc\n        buf += '<span class=\"col movedesccol\">' + escapeHTML(move.shortDesc || move.desc) + \"</span> \";\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderTypeRow = function(type, matchStart, matchLength, errorMessage) {\n        var attrs = \"\";\n        if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"types/\" + toID(type.name) + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"type|' + escapeHTML(type.name) + '\">';\n        // name\n        var name = type.name;\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        buf += '<span class=\"col namecol\">' + name + \"</span> \";\n        // type\n        buf += '<span class=\"col typecol\">';\n        buf += getTypeIcon(type.name);\n        buf += \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderCategoryRow = function(category, matchStart, matchLength, errorMessage) {\n        var attrs = \"\";\n        if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"categories/\" + category.id + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"category|' + escapeHTML(category.name) + '\">';\n        // name\n        var name = category.name;\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        buf += '<span class=\"col namecol\">' + name + \"</span> \";\n        // category\n        buf += '<span class=\"col typecol\">' + getCategoryIcon(category.name) + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderArticleRow = function(article, matchStart, matchLength, errorMessage) {\n        var attrs = \"\";\n        if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"articles/\" + article.id + '\" data-target=\"push\"';\n        var isSearchType = article.id === \"pokemon\" || article.id === \"moves\";\n        if (isSearchType) attrs = ' href=\"' + article.id + '/\" data-target=\"replace\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"article|' + escapeHTML(article.name) + '\">';\n        // name\n        var name = article.name;\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        buf += '<span class=\"col namecol\">' + name + \"</span> \";\n        // article\n        if (isSearchType) buf += '<span class=\"col movedesccol\">(search type)</span> ';\n        else buf += '<span class=\"col movedesccol\">(article)</span> ';\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderEggGroupRow = function(egggroup, matchStart, matchLength, errorMessage) {\n        var attrs = \"\";\n        if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"egggroups/\" + toID(egggroup.name) + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"egggroup|' + escapeHTML(egggroup.name) + '\">';\n        // name\n        var name = egggroup.name;\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        buf += '<span class=\"col namecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.prototype.renderTierRow = function(tier, matchStart, matchLength, errorMessage) {\n        var attrs = \"\";\n        if (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + \"tiers/\" + toID(tier.name) + '\" data-target=\"push\"';\n        var buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"tier|' + escapeHTML(tier.name) + '\">';\n        // name\n        var name = tier.name;\n        if (matchLength) name = name.substr(0, matchStart) + \"<b>\" + name.substr(matchStart, matchLength) + \"</b>\" + name.substr(matchStart + matchLength);\n        buf += '<span class=\"col namecol\">' + name + \"</span> \";\n        // error\n        if (errorMessage) {\n            buf += errorMessage + \"</a></li>\";\n            return buf;\n        }\n        buf += \"</a></li>\";\n        return buf;\n    };\n    Search.gen = 9;\n    Search.renderRow = Search.prototype.renderRow;\n    Search.renderPokemonRow = Search.prototype.renderPokemonRow;\n    Search.renderTaggedPokemonRowInner = Search.prototype.renderTaggedPokemonRowInner;\n    Search.renderItemRow = Search.prototype.renderItemRow;\n    Search.renderAbilityRow = Search.prototype.renderAbilityRow;\n    Search.renderMoveRow = Search.prototype.renderMoveRow;\n    Search.renderMoveRowInner = Search.prototype.renderMoveRowInner;\n    Search.renderTaggedMoveRow = Search.prototype.renderTaggedMoveRow;\n    Search.renderTypeRow = Search.prototype.renderTypeRow;\n    Search.renderCategoryRow = Search.prototype.renderCategoryRow;\n    Search.renderEggGroupRow = Search.prototype.renderEggGroupRow;\n    Search.renderTierRow = Search.prototype.renderTierRow;\n    exports.BattleSearch = Search;\n})(window, jQuery);\n\n\n//# sourceMappingURL=index.eb1093f3.js.map\n","/**\n * Search\n *\n * Basically just an improved version of utilichart\n *\n * Dependencies: jQuery, battledata, search-index\n * Optional dependencies: pokedex, moves, items, abilities\n *\n * @author Guangcong Luo <guangcongluo@gmail.com>\n */\n\n(function (exports, $) {\n\t'use strict';\n\n\tfunction Search(elem, viewport) {\n\t\tthis.$el = $(elem);\n\t\tthis.el = this.$el[0];\n\t\tthis.$viewport = (viewport ? $(viewport) : $(window));\n\n\t\tthis.urlRoot = '';\n\t\tthis.q = undefined; // uninitialized\n\t\tthis.exactMatch = false;\n\n\t\tthis.resultSet = null;\n\t\tthis.filters = null;\n\t\tthis.sortCol = null;\n\t\tthis.renderedIndex = 0;\n\t\tthis.renderingDone = true;\n\t\tthis.externalFilter = false;\n\t\tthis.cur = {};\n\t\tthis.$inputEl = null;\n\t\tthis.gen = 9;\n\t\tthis.mod = null;\n\n\t\tthis.engine = new DexSearch();\n\t\twindow.search = this;\n\n\t\tvar self = this;\n\t\tthis.$el.on('click', '.more button', function (e) {\n\t\t\te.preventDefault();\n\t\t\tself.updateScroll(true);\n\t\t});\n\t\tthis.$el.on('click', '.filter', function (e) {\n\t\t\te.preventDefault();\n\t\t\tself.removeFilter(e);\n\t\t\tif (self.$inputEl) self.$inputEl.focus();\n\t\t});\n\t\tthis.$el.on('click', '.sortcol', function (e) {\n\t\t\te.preventDefault();\n\t\t\te.stopPropagation();\n\t\t\tvar sortCol = e.currentTarget.dataset.sort;\n\t\t\tself.engine.toggleSort(sortCol);\n\t\t\tself.sortCol = self.engine.sortCol;\n\t\t\tself.find('');\n\t\t});\n\t}\n\n\tSearch.prototype.$ = function (query) {\n\t\treturn this.$el.find(query);\n\t};\n\n\t//\n\t// Search functions\n\t//\n\n\tSearch.prototype.find = function (query, firstElem) {\n\t\tif (!this.engine.find(query)) return; // nothing changed\n\n\t\tthis.exactMatch = this.engine.exactMatch;\n\t\tthis.q = this.engine.query;\n\t\tthis.resultSet = this.engine.results;\n\t\tif (firstElem) {\n\t\t\tthis.resultSet = [[this.engine.typedSearch.searchType, firstElem]].concat(this.resultSet);\n\t\t\tif (this.resultSet.length > 1 && ['sortpokemon', 'sortmove'].includes(this.resultSet[1][0])) {\n\t\t\t\tvar sortRow = this.resultSet[1];\n\t\t\t\tthis.resultSet[1] = this.resultSet[0];\n\t\t\t\tthis.resultSet[0] = sortRow;\n\t\t\t}\n\t\t}\n\t\tif (this.filters) {\n\t\t\tthis.resultSet = [['html', this.getFilterText()]].concat(this.resultSet);\n\t\t}\n\n\t\tthis.renderedIndex = 0;\n\t\tthis.renderingDone = false;\n\t\tthis.updateScroll();\n\t\treturn true;\n\t};\n\tSearch.prototype.addFilter = function (node) {\n\t\tif (!node.dataset.entry) return false;\n\t\tvar entry = node.dataset.entry.split('|');\n\t\tvar result = this.engine.addFilter(entry);\n\t\tthis.filters = this.engine.filters;\n\t\treturn result;\n\t};\n\tSearch.prototype.removeFilter = function (e) {\n\t\tvar result;\n\t\tif (e) {\n\t\t\tresult = this.engine.removeFilter(e.currentTarget.value.split(':'));\n\t\t} else {\n\t\t\tresult = this.engine.removeFilter();\n\t\t}\n\t\tthis.filters = this.engine.filters;\n\t\tthis.find('');\n\t\treturn result;\n\t};\n\tSearch.prototype.getFilterText = function (q) {\n\t\tvar buf = '<p>Filters: ';\n\t\tfor (var i = 0; i < this.filters.length; i++) {\n\t\t\tvar text = this.filters[i][1];\n\t\t\tif (this.filters[i][0] === 'move') text = getID(BattleMovedex, text).name;\n\t\t\tif (this.filters[i][0] === 'pokemon') text = getID(BattlePokedex, text).name;\n\t\t\tbuf += '<button class=\"filter\" value=\"' + escapeHTML(this.filters[i].join(':')) + '\">' + text + ' <i class=\"fa fa-times-circle\"></i></button> ';\n\t\t}\n\t\tif (!q) buf += '<small style=\"color: #888\">(backspace = delete filter)</small>';\n\t\treturn buf + '</p>';\n\t};\n\tSearch.prototype.updateScroll = function (forceAdd) {\n\t\tif (this.renderingDone) return;\n\t\tvar top = this.$viewport.scrollTop();\n\t\tvar bottom = top + this.$viewport.height();\n\t\tvar windowHeight = $(window).height();\n\t\tvar i = this.renderedIndex;\n\t\tvar finalIndex = Math.floor(bottom / 33) + 1;\n\t\tif (!forceAdd && finalIndex <= i) return;\n\t\tif (finalIndex < i + 20) finalIndex = i + 20;\n\t\tif (bottom - top > windowHeight && !i) finalIndex = 20;\n\t\tif (forceAdd && finalIndex > i + 40) finalIndex = i + 40;\n\n\t\tvar resultSet = this.resultSet;\n\t\tvar buf = '';\n\t\twhile (i < finalIndex) {\n\t\t\tif (!resultSet[i]) {\n\t\t\t\tthis.renderingDone = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tvar row = resultSet[i];\n\n\t\t\tvar errorMessage = '';\n\t\t\tvar label;\n\t\t\tif ((label = this.engine.filterLabel(row[0]))) {\n\t\t\t\terrorMessage = '<span class=\"col filtercol\"><em>' + label + '</em></span>';\n\t\t\t} else if ((label = this.engine.illegalLabel(row[1]))) {\n\t\t\t\terrorMessage = '<span class=\"col illegalcol\"><em>' + label + '</em></span>';\n\t\t\t}\n\n\t\t\tvar mStart = 0;\n\t\t\tvar mEnd = 0;\n\t\t\tif (row.length > 3) {\n\t\t\t\tmStart = row[2];\n\t\t\t\tmEnd = row[3];\n\t\t\t}\n\t\t\tbuf += this.renderRow(row[1], row[0], mStart, mEnd, errorMessage, row[1] in this.cur ? ' class=\"cur\"' : '');\n\n\t\t\ti++;\n\t\t}\n\t\tif (!this.renderedIndex) {\n\t\t\tthis.el.innerHTML = '<ul class=\"utilichart\" style=\"height:' + (resultSet.length * 33) + 'px\">' + buf + (!this.renderingDone ? '<li class=\"result more\"><p><button class=\"button big\">More</button></p></li>' : '') + '</ul>';\n\t\t\tthis.moreVisible = true;\n\t\t} else {\n\t\t\tif (this.moreVisible) {\n\t\t\t\tthis.$el.find('.more').remove();\n\t\t\t\tif (!forceAdd) this.moreVisible = false;\n\t\t\t}\n\t\t\t$(this.el.firstChild).append(buf + (forceAdd && !this.renderingDone ? '<li class=\"result more\"><p><button class=\"button big\">More</button></p></li>' : ''));\n\t\t}\n\t\tthis.renderedIndex = i;\n\t};\n\tSearch.prototype.setType = function (qType, format, set, cur) {\n\t\tthis.engine.setType(qType, format, set);\n\t\tthis.filters = this.engine.filters;\n\t\tthis.sortCol = this.engine.sortCol;\n\t\tthis.cur = cur || {};\n\t\tvar firstElem;\n\t\tfor (var id in cur) {\n\t\t\tfirstElem = id;\n\t\t\tbreak;\n\t\t}\n\t\tthis.find('', firstElem);\n\t};\n\n\t/*********************************************************\n\t * Rendering functions\n\t *********************************************************/\n\n\t// These all have static versions\n\n\tSearch.prototype.renderRow = function (id, type, matchStart, matchLength, errorMessage, attrs) {\n\t\t// errorMessage = '<span class=\"col illegalcol\"><em>' + errorMessage + '</em></span>';\n\t\tswitch (type) {\n\t\tcase 'html':\n\t\t\treturn '<li class=\"result\">' + id + '</li>';\n\t\tcase 'header':\n\t\t\treturn '<li class=\"result\"><h3>' + id + '</h3></li>';\n\t\tcase 'sortpokemon':\n\t\t\treturn this.renderPokemonSortRow();\n\t\tcase 'sortmove':\n\t\t\treturn this.renderMoveSortRow();\n\t\tcase 'pokemon':\n\t\t\tvar pokemon = getID(BattlePokedex, id);\n\t\t\treturn this.renderPokemonRow(pokemon, matchStart, matchLength, errorMessage, attrs);\n\t\tcase 'move':\n\t\t\tvar move = getID(BattleMovedex, id);\n\t\t\treturn this.renderMoveRow(move, matchStart, matchLength, errorMessage, attrs);\n\t\tcase 'item':\n\t\t\tvar item = getID(BattleItems, id);\n\t\t\treturn this.renderItemRow(item, matchStart, matchLength, errorMessage, attrs);\n\t\tcase 'ability':\n\t\t\tvar ability = getID(BattleAbilities, id);\n\t\t\treturn this.renderAbilityRow(ability, matchStart, matchLength, errorMessage, attrs);\n\t\tcase 'type':\n\t\t\tvar type = {name: id[0].toUpperCase() + id.substr(1)};\n\t\t\treturn this.renderTypeRow(type, matchStart, matchLength, errorMessage);\n\t\tcase 'egggroup':\n\t\t\t// very hardcode\n\t\t\tvar egName;\n\t\t\tif (id === 'humanlike') egName = 'Human-Like';\n\t\t\telse if (id === 'water1') egName = 'Water 1';\n\t\t\telse if (id === 'water2') egName = 'Water 2';\n\t\t\telse if (id === 'water3') egName = 'Water 3';\n\t\t\tif (egName) {\n\t\t\t\tif (matchLength > 5) matchLength++;\n\t\t\t} else {\n\t\t\t\tegName = id[0].toUpperCase() + id.substr(1);\n\t\t\t}\n\t\t\tvar egggroup = {name: egName};\n\t\t\treturn this.renderEggGroupRow(egggroup, matchStart, matchLength, errorMessage);\n\t\tcase 'tier':\n\t\t\t// very hardcode\n\t\t\tvar tierTable = {\n\t\t\t\tuber: \"Uber\",\n\t\t\t\tou: \"OU\",\n\t\t\t\tuu: \"UU\",\n\t\t\t\tru: \"RU\",\n\t\t\t\tnu: \"NU\",\n\t\t\t\tpu: \"PU\",\n\t\t\t\tzu: \"(PU)\",\n\t\t\t\tnfe: \"NFE\",\n\t\t\t\tlc: \"LC\",\n\t\t\t\tcap: \"CAP\",\n\t\t\t\tcaplc: \"CAP LC\",\n\t\t\t\tcapnfe: \"CAP NFE\",\n\t\t\t\tuubl: \"UUBL\",\n\t\t\t\trubl: \"RUBL\",\n\t\t\t\tnubl: \"NUBL\",\n\t\t\t\tpubl: \"PUBL\"\n\t\t\t};\n\t\t\tvar tier = {name: tierTable[id]};\n\t\t\treturn this.renderTierRow(tier, matchStart, matchLength, errorMessage);\n\t\tcase 'category':\n\t\t\tvar category = {name: id[0].toUpperCase() + id.substr(1), id: id};\n\t\t\treturn this.renderCategoryRow(category, matchStart, matchLength, errorMessage);\n\t\tcase 'article':\n\t\t\tvar articleTitle = (window.BattleArticleTitles && BattleArticleTitles[id]) || (id[0].toUpperCase() + id.substr(1));\n\t\t\tvar article = {name: articleTitle, id: id};\n\t\t\treturn this.renderArticleRow(article, matchStart, matchLength, errorMessage);\n\t\t}\n\t\treturn 'Error: not found';\n\t};\n\tSearch.prototype.renderPokemonSortRow = function () {\n\t\tvar buf = '<li class=\"result\"><div class=\"sortrow\">';\n\t\tbuf += '<button class=\"sortcol numsortcol' + (!this.sortCol ? ' cur' : '') + '\">' + (!this.sortCol ? 'Sort: ' : this.engine.firstPokemonColumn) + '</button>';\n\t\tbuf += '<button class=\"sortcol pnamesortcol' + (this.sortCol === 'name' ? ' cur' : '') + '\" data-sort=\"name\">Name</button>';\n\t\tbuf += '<button class=\"sortcol typesortcol' + (this.sortCol === 'type' ? ' cur' : '') + '\" data-sort=\"type\">Types</button>';\n\t\tbuf += '<button class=\"sortcol abilitysortcol' + (this.sortCol === 'ability' ? ' cur' : '') + '\" data-sort=\"ability\">Abilities</button>';\n\t\tbuf += '<button class=\"sortcol statsortcol' + (this.sortCol === 'hp' ? ' cur' : '') + '\" data-sort=\"hp\">HP</button>';\n\t\tbuf += '<button class=\"sortcol statsortcol' + (this.sortCol === 'atk' ? ' cur' : '') + '\" data-sort=\"atk\">Atk</button>';\n\t\tbuf += '<button class=\"sortcol statsortcol' + (this.sortCol === 'def' ? ' cur' : '') + '\" data-sort=\"def\">Def</button>';\n\t\tbuf += '<button class=\"sortcol statsortcol' + (this.sortCol === 'spa' ? ' cur' : '') + '\" data-sort=\"spa\">SpA</button>';\n\t\tbuf += '<button class=\"sortcol statsortcol' + (this.sortCol === 'spd' ? ' cur' : '') + '\" data-sort=\"spd\">SpD</button>';\n\t\tbuf += '<button class=\"sortcol statsortcol' + (this.sortCol === 'spe' ? ' cur' : '') + '\" data-sort=\"spe\">Spe</button>';\n\t\tbuf += '<button class=\"sortcol statsortcol' + (this.sortCol === 'bst' ? ' cur' : '') + '\" data-sort=\"bst\">BST</button>';\n\t\tbuf += '</div></li>';\n\t\treturn buf;\n\t};\n\tSearch.prototype.renderMoveSortRow = function () {\n\t\tvar buf = '<li class=\"result\"><div class=\"sortrow\">';\n\t\tbuf += '<button class=\"sortcol movenamesortcol' + (this.sortCol === 'name' ? ' cur' : '') + '\" data-sort=\"name\">Name</button>';\n\t\tbuf += '<button class=\"sortcol movetypesortcol' + (this.sortCol === 'type' ? ' cur' : '') + '\" data-sort=\"type\">Type</button>';\n\t\tbuf += '<button class=\"sortcol movetypesortcol' + (this.sortCol === 'category' ? ' cur' : '') + '\" data-sort=\"category\">Cat</button>';\n\t\tbuf += '<button class=\"sortcol powersortcol' + (this.sortCol === 'power' ? ' cur' : '') + '\" data-sort=\"power\">Pow</button>';\n\t\tbuf += '<button class=\"sortcol accuracysortcol' + (this.sortCol === 'accuracy' ? ' cur' : '') + '\" data-sort=\"accuracy\">Acc</button>';\n\t\tbuf += '<button class=\"sortcol ppsortcol' + (this.sortCol === 'pp' ? ' cur' : '') + '\" data-sort=\"pp\">PP</button>';\n\t\tbuf += '</div></li>';\n\t\treturn buf;\n\t};\n\tSearch.prototype.renderPokemonRow = function (pokemon, matchStart, matchLength, errorMessage, attrs) {\n\t\tif (!attrs) attrs = '';\n\t\tif (!pokemon) return '<li class=\"result\">Unrecognized pokemon</li>';\n\t\tvar id = toID(pokemon.name);\n\t\tif (Search.urlRoot) attrs += ' href=\"' + Search.urlRoot + 'pokemon/' + id + '\" data-target=\"push\"';\n\t\tvar buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"pokemon|' + escapeHTML(pokemon.name) + '\">';\n\n\t\tbuf += '<span class=\"col numcol\">' + pokemon.num + \"</span> \";\n\t\t// icon\n\t\tbuf += '<span class=\"col iconcol\">';\n\t\tbuf += '<span style=\"' + getPokemonIcon(pokemon.name) + '\"></span>';\n\t\tbuf += '</span> ';\n\n\t\t// name\n\t\tvar name = pokemon.name;\n\t\tvar tagStart = (pokemon.forme ? name.length - pokemon.forme.length - 1 : 0);\n\t\tif (tagStart) name = name.substr(0, tagStart);\n\t\tif (matchLength) {\n\t\t\tname = name.substr(0, matchStart) + '<b>' + name.substr(matchStart, matchLength) + '</b>' + name.substr(matchStart + matchLength);\n\t\t}\n\t\tif (tagStart) {\n\t\t\tif (matchLength && matchStart + matchLength > tagStart) {\n\t\t\t\tif (matchStart < tagStart) {\n\t\t\t\t\tmatchLength -= tagStart - matchStart;\n\t\t\t\t\tmatchStart = tagStart;\n\t\t\t\t}\n\t\t\t\tname += '<small>' + pokemon.name.substr(tagStart, matchStart - tagStart) + '<b>' + pokemon.name.substr(matchStart, matchLength) + '</b>' + pokemon.name.substr(matchStart + matchLength) + '</small>';\n\t\t\t} else {\n\t\t\t\tname += '<small>' + pokemon.name.substr(tagStart) + '</small>';\n\t\t\t}\n\t\t}\n\t\tbuf += '<span class=\"col pokemonnamecol\">' + name + '</span> ';\n\n\t\t// error\n\t\tif (errorMessage) {\n\t\t\tbuf += errorMessage + '</a></li>';\n\t\t\treturn buf;\n\t\t}\n\n\n\t\t// type\n\t\tbuf += '<span class=\"col typecol\">';\n\t\tvar types = pokemon.types;\n\t\tfor (var i = 0; i < types.length; i++) {\n\t\t\tbuf += getTypeIcon(types[i]);\n\t\t}\n\t\tbuf += '</span> ';\n\t\t\n\t\tvar abilities = pokemon.abilities;\n\t\tif (abilities['1']) {\n\t\t\tbuf += '<span class=\"col twoabilitycol\">' + abilities['0'] + '<br />' +\n\t\t\t\tabilities['1'] + '</span>';\n\t\t} else {\n\t\t\tbuf += '<span class=\"col abilitycol\">' + abilities['0'] + '</span>';\n\t\t}\n\t\tif (abilities['S']) {\n\t\t\tif (abilities['H']) {\n\t\t\t\tbuf += '<span class=\"col twoabilitycol\">' + (abilities['H'] || '') + '<br />(' + abilities['S'] + ')</span>';\n\t\t\t} else {\n\t\t\t\tbuf += '<span class=\"col abilitycol\">(' + abilities['S'] + ')</span>';\n\t\t\t}\n\t\t} else if (abilities['H']) {\n\t\t\tbuf += '<span class=\"col abilitycol\">'+abilities['H']+'</span>';\n\t\t} else {\n\t\t\tbuf += '<span class=\"col abilitycol\"></span>';\n\t\t}\n\n\t\t// base stats\n\t\tvar stats = pokemon.baseStats;\n\t\tbuf += '<span class=\"col statcol\"><em>HP</em><br />' + stats.hp + '</span> ';\n\t\tbuf += '<span class=\"col statcol\"><em>Atk</em><br />' + stats.atk + '</span> ';\n\t\tbuf += '<span class=\"col statcol\"><em>Def</em><br />' + stats.def + '</span> ';\n\t\tbuf += '<span class=\"col statcol\"><em>SpA</em><br />' + stats.spa + '</span> ';\n\t\tbuf += '<span class=\"col statcol\"><em>SpD</em><br />' + stats.spd + '</span> ';\n\t\tbuf += '<span class=\"col statcol\"><em>Spe</em><br />' + stats.spe + '</span> ';\n\t\tvar bst = 0;\n\t\tfor (i in stats) bst += stats[i];\n\t\tbuf += '<span class=\"col bstcol\"><em>BST<br />' + bst + '</em></span> ';\n\n\t\tbuf += '</a></li>';\n\n\t\treturn buf;\n\t};\n\tSearch.prototype.renderTaggedPokemonRowInner = function (pokemon, tag, errorMessage) {\n\t\tvar attrs = '';\n\t\tif (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + 'pokemon/' + toID(pokemon.name) + '\" data-target=\"push\"';\n\t\tvar buf = '<a' + attrs + ' data-entry=\"pokemon|' + escapeHTML(pokemon.name) + '\">';\n\n\t\t// tag\n\t\tbuf += '<span class=\"col tagcol shorttagcol\">' + tag + '</span> ';\n\n\t\t// icon\n\t\tbuf += '<span class=\"col iconcol\">';\n\t\tbuf += '<span style=\"' + getPokemonIcon(pokemon.name) + '\"></span>';\n\t\tbuf += '</span> ';\n\n\t\t// name\n\t\tvar name = pokemon.name;\n\t\tvar tagStart = (pokemon.forme ? name.length - pokemon.forme.length - 1 : 0);\n\t\tif (tagStart) name = name.substr(0, tagStart) + '<small>' + pokemon.name.substr(tagStart) + '</small>';\n\t\tbuf += '<span class=\"col shortpokemonnamecol\">' + name + '</span> ';\n\n\t\t// error\n\t\tif (errorMessage) {\n\t\t\tbuf += errorMessage + '</a></li>';\n\t\t\treturn buf;\n\t\t}\n\n\t\t// type\n\t\tbuf += '<span class=\"col typecol\">';\n\t\tfor (var i = 0; i < pokemon.types.length; i++) {\n\t\t\tbuf += getTypeIcon(pokemon.types[i]);\n\t\t}\n\t\tbuf += '</span> ';\n\n\t\t// abilities\n\t\tbuf += '<span style=\"float:left;min-height:26px\">';\n\t\tif (pokemon.abilities['1']) {\n\t\t\tbuf += '<span class=\"col twoabilitycol\">';\n\t\t} else {\n\t\t\tbuf += '<span class=\"col abilitycol\">';\n\t\t}\n\t\tfor (var i in pokemon.abilities) {\n\t\t\tvar ability = pokemon.abilities[i];\n\t\t\tif (!ability) continue;\n\n\t\t\tif (i === '1') buf += '<br />';\n\t\t\tif (i === 'H') ability = '</span><span class=\"col abilitycol\"><em>' + pokemon.abilities[i] + '</em>';\n\t\t\tbuf += ability;\n\t\t}\n\t\tif (!pokemon.abilities['H']) buf += '</span><span class=\"col abilitycol\">';\n\t\tbuf += '</span>';\n\t\tbuf += '</span>';\n\n\t\t// base stats\n\t\tbuf += '<span style=\"float:left;min-height:26px\">';\n\t\tbuf += '<span class=\"col statcol\"><em>HP</em><br />' + pokemon.baseStats.hp + '</span> ';\n\t\tbuf += '<span class=\"col statcol\"><em>Atk</em><br />' + pokemon.baseStats.atk + '</span> ';\n\t\tbuf += '<span class=\"col statcol\"><em>Def</em><br />' + pokemon.baseStats.def + '</span> ';\n\t\tbuf += '<span class=\"col statcol\"><em>SpA</em><br />' + pokemon.baseStats.spa + '</span> ';\n\t\tbuf += '<span class=\"col statcol\"><em>SpD</em><br />' + pokemon.baseStats.spd + '</span> ';\n\t\tbuf += '<span class=\"col statcol\"><em>Spe</em><br />' + pokemon.baseStats.spe + '</span> ';\n\t\tvar bst = 0;\n\t\tfor (i in pokemon.baseStats) bst += pokemon.baseStats[i];\n\t\tbuf += '<span class=\"col bstcol\"><em>BST<br />' + bst + '</em></span> ';\n\t\tbuf += '</span>';\n\n\t\tbuf += '</a>';\n\n\t\treturn buf;\n\t};\n\n\tSearch.prototype.renderItemRow = function (item, matchStart, matchLength, errorMessage, attrs) {\n\t\tif (!attrs) attrs = '';\n\t\tif (!item) return '<li class=\"result\">Unrecognized item</li>';\n\t\tvar id = toID(item.name);\n\t\tif (Search.urlRoot) attrs += ' href=\"' + Search.urlRoot + 'items/' + id + '\" data-target=\"push\"';\n\t\tvar buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"item|' + escapeHTML(item.name) + '\">';\n\n\t\t// icon\n\t\tbuf += '<span class=\"col itemiconcol\">';\n\t\tbuf += '<span style=\"' + getItemIcon(item) + '\"></span>';\n\t\tbuf += '</span> ';\n\n\t\t// name\n\t\tvar name = item.name;\n\t\tif (matchLength) {\n\t\t\tname = name.substr(0, matchStart) + '<b>' + name.substr(matchStart, matchLength) + '</b>' + name.substr(matchStart + matchLength);\n\t\t}\n\t\tbuf += '<span class=\"col namecol\">' + name + '</span> ';\n\n\t\t// error\n\t\tif (errorMessage) {\n\t\t\tbuf += errorMessage + '</a></li>';\n\t\t\treturn buf;\n\t\t}\n\n\t\t// desc\n\t\tbuf += '<span class=\"col itemdesccol\">' + escapeHTML(item.shortDesc) + '</span> ';\n\n\t\tbuf += '</a></li>';\n\n\t\treturn buf;\n\t};\n\tSearch.prototype.renderAbilityRow = function (ability, matchStart, matchLength, errorMessage, attrs) {\n\t\tif (!attrs) attrs = '';\n\t\tif (!ability) return '<li class=\"result\">Unrecognized ability</li>';\n\t\tvar id = toID(ability.name);\n\t\tif (Search.urlRoot) attrs += ' href=\"' + Search.urlRoot + 'abilities/' + id + '\" data-target=\"push\"';\n\t\tvar buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"ability|' + escapeHTML(ability.name) + '\">';\n\n\t\t// name\n\t\tvar name = ability.name;\n\t\tif (matchLength) {\n\t\t\tname = name.substr(0, matchStart) + '<b>' + name.substr(matchStart, matchLength) + '</b>' + name.substr(matchStart + matchLength);\n\t\t}\n\t\tbuf += '<span class=\"col namecol\">' + name + '</span> ';\n\n\t\t// error\n\t\tif (errorMessage) {\n\t\t\tbuf += errorMessage + '</a></li>';\n\t\t\treturn buf;\n\t\t}\n\n\t\tbuf += '<span class=\"col abilitydesccol\">' + escapeHTML(ability.shortDesc) + '</span> ';\n\n\t\tbuf += '</a></li>';\n\n\t\treturn buf;\n\t};\n\tSearch.prototype.renderMoveRow = function (move, matchStart, matchLength, errorMessage, attrs) {\n\t\tif (!attrs) attrs = '';\n\t\tif (!move) return '<li class=\"result\">Unrecognized move</li>';\n\t\tvar id = toID(move.name);\n\t\tif (Search.urlRoot) attrs += ' href=\"' + Search.urlRoot + 'moves/' + id + '\" data-target=\"push\"';\n\t\tvar buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"move|' + escapeHTML(move.name) + '\">';\n\n\t\t// name\n\t\tvar name = move.name;\n\t\tvar tagStart = (name.substr(0, 12) === 'Hidden Power' ? 12 : 0);\n\t\tif (tagStart) name = name.substr(0, tagStart);\n\t\tif (matchLength) {\n\t\t\tname = name.substr(0, matchStart) + '<b>' + name.substr(matchStart, matchLength) + '</b>' + name.substr(matchStart + matchLength);\n\t\t}\n\t\tif (tagStart) {\n\t\t\tif (matchLength && matchStart + matchLength > tagStart) {\n\t\t\t\tif (matchStart < tagStart) {\n\t\t\t\t\tmatchLength -= tagStart - matchStart;\n\t\t\t\t\tmatchStart = tagStart;\n\t\t\t\t}\n\t\t\t\tname += '<small>' + move.name.substr(tagStart, matchStart - tagStart) + '<b>' + move.name.substr(matchStart, matchLength) + '</b>' + move.name.substr(matchStart + matchLength) + '</small>';\n\t\t\t} else {\n\t\t\t\tname += '<small>' + move.name.substr(tagStart) + '</small>';\n\t\t\t}\n\t\t}\n\t\tbuf += '<span class=\"col movenamecol\">' + name + '</span> ';\n\n\t\t// error\n\t\tif (errorMessage) {\n\t\t\tbuf += errorMessage + '</a></li>';\n\t\t\treturn buf;\n\t\t}\n\n\t\t// type\n\t\tbuf += '<span class=\"col typecol\">';\n\t\tbuf += getTypeIcon(move.type);\n\t\tbuf += getCategoryIcon(move.category);\n\t\tbuf += '</span> ';\n\n\t\t// power, accuracy, pp\n\t\tvar pp = Math.floor(move.pp === 1 || move.noPPBoosts ? move.pp : move.pp * 8 / 5);\n\t\tbuf += '<span class=\"col labelcol\">' + (move.category !== 'Status' ? ('<em>Power</em><br />' + (move.basePower || '&mdash;')) : '') + '</span> ';\n\t\tbuf += '<span class=\"col widelabelcol\"><em>Accuracy</em><br />' + (move.accuracy && move.accuracy !== true ? move.accuracy + '%' : '&mdash;') + '</span> ';\n\t\tbuf += '<span class=\"col pplabelcol\"><em>PP</em><br />' + pp + '</span> ';\n\n\t\t// desc\n\t\tbuf += '<span class=\"col movedesccol\">' + escapeHTML(move.shortDesc) + '</span> ';\n\n\t\tbuf += '</a></li>';\n\n\t\treturn buf;\n\t};\n\tSearch.prototype.renderMoveRowInner = function (move, errorMessage) {\n\t\tvar attrs = '';\n\t\tif (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + 'moves/' + toID(move.name) + '\" data-target=\"push\"';\n\t\tvar buf = '<a' + attrs + ' data-entry=\"move|' + escapeHTML(move.name) + '\">';\n\n\t\t// name\n\t\tvar name = move.name;\n\t\tvar tagStart = (name.substr(0, 12) === 'Hidden Power' ? 12 : 0);\n\t\tif (tagStart) name = name.substr(0, tagStart) + '<small>' + move.name.substr(tagStart) + '</small>';\n\t\tbuf += '<span class=\"col movenamecol\">' + name + '</span> ';\n\n\t\t// error\n\t\tif (errorMessage) {\n\t\t\tbuf += errorMessage + '</a></li>';\n\t\t\treturn buf;\n\t\t}\n\n\t\t// type\n\t\tbuf += '<span class=\"col typecol\">';\n\t\tbuf += getTypeIcon(move.type);\n\t\tbuf += getCategoryIcon(move.category);\n\t\tbuf += '</span> ';\n\n\t\t// power, accuracy, pp\n\t\tvar pp = (move.pp === 1 || move.noPPBoosts ? move.pp : move.pp * 8 / 5);\n\t\tbuf += '<span class=\"col labelcol\">' + (move.category !== 'Status' ? ('<em>Power</em><br />' + (move.basePower || '&mdash;')) : '') + '</span> ';\n\t\tbuf += '<span class=\"col widelabelcol\"><em>Accuracy</em><br />' + (move.accuracy && move.accuracy !== true ? move.accuracy + '%' : '&mdash;') + '</span> ';\n\t\tbuf += '<span class=\"col pplabelcol\"><em>PP</em><br />' + pp + '</span> ';\n\n\t\t// desc\n\t\tbuf += '<span class=\"col movedesccol\">' + escapeHTML(move.shortDesc || move.desc) + '</span> ';\n\n\t\tbuf += '</a>';\n\n\t\treturn buf;\n\t};\n\tSearch.prototype.renderTaggedMoveRow = function (move, tag, errorMessage) {\n\t\tvar attrs = '';\n\t\tif (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + 'moves/' + toID(move.name) + '\" data-target=\"push\"';\n\t\tvar buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"move|' + escapeHTML(move.name) + '\">';\n\n\t\t// tag\n\t\tbuf += '<span class=\"col tagcol\">' + tag + '</span> ';\n\n\t\t// name\n\t\tvar name = move.name;\n\t\tif (name.substr(0, 12) === 'Hidden Power') name = 'Hidden Power';\n\t\tbuf += '<span class=\"col shortmovenamecol\">' + name + '</span> ';\n\n\t\t// error\n\t\tif (errorMessage) {\n\t\t\tbuf += errorMessage + '</a></li>';\n\t\t\treturn buf;\n\t\t}\n\n\t\t// type\n\t\tbuf += '<span class=\"col typecol\">';\n\t\tbuf += getTypeIcon(move.type);\n\t\tbuf += getCategoryIcon(move.category);\n\t\tbuf += '</span> ';\n\n\t\t// power, accuracy, pp\n\t\tbuf += '<span class=\"col labelcol\">' + (move.category !== 'Status' ? ('<em>Power</em><br />' + (move.basePower || '&mdash;')) : '') + '</span> ';\n\t\tbuf += '<span class=\"col widelabelcol\"><em>Accuracy</em><br />' + (move.accuracy && move.accuracy !== true ? move.accuracy + '%' : '&mdash;') + '</span> ';\n\t\tbuf += '<span class=\"col pplabelcol\"><em>PP</em><br />' + (move.noPPBoosts ? move.pp : move.pp * 8 / 5) + '</span> ';\n\n\t\t// desc\n\t\tbuf += '<span class=\"col movedesccol\">' + escapeHTML(move.shortDesc || move.desc) + '</span> ';\n\n\t\tbuf += '</a></li>';\n\n\t\treturn buf;\n\t};\n\n\tSearch.prototype.renderTypeRow = function (type, matchStart, matchLength, errorMessage) {\n\t\tvar attrs = '';\n\t\tif (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + 'types/' + toID(type.name) + '\" data-target=\"push\"';\n\t\tvar buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"type|' + escapeHTML(type.name) + '\">';\n\n\t\t// name\n\t\tvar name = type.name;\n\t\tif (matchLength) {\n\t\t\tname = name.substr(0, matchStart) + '<b>' + name.substr(matchStart, matchLength) + '</b>' + name.substr(matchStart + matchLength);\n\t\t}\n\t\tbuf += '<span class=\"col namecol\">' + name + '</span> ';\n\n\t\t// type\n\t\tbuf += '<span class=\"col typecol\">';\n\t\tbuf += getTypeIcon(type.name);\n\t\tbuf += '</span> ';\n\n\t\t// error\n\t\tif (errorMessage) {\n\t\t\tbuf += errorMessage + '</a></li>';\n\t\t\treturn buf;\n\t\t}\n\n\t\tbuf += '</a></li>';\n\n\t\treturn buf;\n\t};\n\tSearch.prototype.renderCategoryRow = function (category, matchStart, matchLength, errorMessage) {\n\t\tvar attrs = '';\n\t\tif (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + 'categories/' + category.id + '\" data-target=\"push\"';\n\t\tvar buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"category|' + escapeHTML(category.name) + '\">';\n\n\t\t// name\n\t\tvar name = category.name;\n\t\tif (matchLength) {\n\t\t\tname = name.substr(0, matchStart) + '<b>' + name.substr(matchStart, matchLength) + '</b>' + name.substr(matchStart + matchLength);\n\t\t}\n\t\tbuf += '<span class=\"col namecol\">' + name + '</span> ';\n\n\t\t// category\n\t\tbuf += '<span class=\"col typecol\">' + getCategoryIcon(category.name) + '</span> ';\n\n\t\t// error\n\t\tif (errorMessage) {\n\t\t\tbuf += errorMessage + '</a></li>';\n\t\t\treturn buf;\n\t\t}\n\n\t\tbuf += '</a></li>';\n\n\t\treturn buf;\n\t};\n\tSearch.prototype.renderArticleRow = function (article, matchStart, matchLength, errorMessage) {\n\t\tvar attrs = '';\n\t\tif (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + 'articles/' + article.id + '\" data-target=\"push\"';\n\t\tvar isSearchType = (article.id === 'pokemon' || article.id === 'moves');\n\t\tif (isSearchType) attrs = ' href=\"' + article.id + '/\" data-target=\"replace\"';\n\t\tvar buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"article|' + escapeHTML(article.name) + '\">';\n\n\t\t// name\n\t\tvar name = article.name;\n\t\tif (matchLength) {\n\t\t\tname = name.substr(0, matchStart) + '<b>' + name.substr(matchStart, matchLength) + '</b>' + name.substr(matchStart + matchLength);\n\t\t}\n\t\tbuf += '<span class=\"col namecol\">' + name + '</span> ';\n\n\t\t// article\n\t\tif (isSearchType) {\n\t\t\tbuf += '<span class=\"col movedesccol\">(search type)</span> ';\n\t\t} else {\n\t\t\tbuf += '<span class=\"col movedesccol\">(article)</span> ';\n\t\t}\n\n\t\t// error\n\t\tif (errorMessage) {\n\t\t\tbuf += errorMessage + '</a></li>';\n\t\t\treturn buf;\n\t\t}\n\n\t\tbuf += '</a></li>';\n\n\t\treturn buf;\n\t};\n\tSearch.prototype.renderEggGroupRow = function (egggroup, matchStart, matchLength, errorMessage) {\n\t\tvar attrs = '';\n\t\tif (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + 'egggroups/' + toID(egggroup.name) + '\" data-target=\"push\"';\n\t\tvar buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"egggroup|' + escapeHTML(egggroup.name) + '\">';\n\n\t\t// name\n\t\tvar name = egggroup.name;\n\t\tif (matchLength) {\n\t\t\tname = name.substr(0, matchStart) + '<b>' + name.substr(matchStart, matchLength) + '</b>' + name.substr(matchStart + matchLength);\n\t\t}\n\t\tbuf += '<span class=\"col namecol\">' + name + '</span> ';\n\n\t\t// error\n\t\tif (errorMessage) {\n\t\t\tbuf += errorMessage + '</a></li>';\n\t\t\treturn buf;\n\t\t}\n\n\t\tbuf += '</a></li>';\n\n\t\treturn buf;\n\t};\n\tSearch.prototype.renderTierRow = function (tier, matchStart, matchLength, errorMessage) {\n\t\tvar attrs = '';\n\t\tif (Search.urlRoot) attrs = ' href=\"' + Search.urlRoot + 'tiers/' + toID(tier.name) + '\" data-target=\"push\"';\n\t\tvar buf = '<li class=\"result\"><a' + attrs + ' data-entry=\"tier|' + escapeHTML(tier.name) + '\">';\n\n\t\t// name\n\t\tvar name = tier.name;\n\t\tif (matchLength) {\n\t\t\tname = name.substr(0, matchStart) + '<b>' + name.substr(matchStart, matchLength) + '</b>' + name.substr(matchStart + matchLength);\n\t\t}\n\t\tbuf += '<span class=\"col namecol\">' + name + '</span> ';\n\n\t\t// error\n\t\tif (errorMessage) {\n\t\t\tbuf += errorMessage + '</a></li>';\n\t\t\treturn buf;\n\t\t}\n\n\t\tbuf += '</a></li>';\n\n\t\treturn buf;\n\t};\n\n\tSearch.gen = 9;\n\tSearch.renderRow = Search.prototype.renderRow;\n\tSearch.renderPokemonRow = Search.prototype.renderPokemonRow;\n\tSearch.renderTaggedPokemonRowInner = Search.prototype.renderTaggedPokemonRowInner;\n\tSearch.renderItemRow = Search.prototype.renderItemRow;\n\tSearch.renderAbilityRow = Search.prototype.renderAbilityRow;\n\tSearch.renderMoveRow = Search.prototype.renderMoveRow;\n\tSearch.renderMoveRowInner = Search.prototype.renderMoveRowInner;\n\tSearch.renderTaggedMoveRow = Search.prototype.renderTaggedMoveRow;\n\tSearch.renderTypeRow = Search.prototype.renderTypeRow;\n\tSearch.renderCategoryRow = Search.prototype.renderCategoryRow;\n\tSearch.renderEggGroupRow = Search.prototype.renderEggGroupRow;\n\tSearch.renderTierRow = Search.prototype.renderTierRow;\n\n\texports.BattleSearch = Search;\n\n})(window, jQuery);\n"],"names":["exports","$","Search","elem","viewport","$el","el","$viewport","window","urlRoot","q","undefined","exactMatch","resultSet","filters","sortCol","renderedIndex","renderingDone","externalFilter","cur","$inputEl","gen","mod","engine","DexSearch","search","self","on","e","preventDefault","updateScroll","removeFilter","focus","stopPropagation","currentTarget","dataset","sort","toggleSort","find","prototype","query","firstElem","results","typedSearch","searchType","concat","length","includes","sortRow","getFilterText","addFilter","node","entry","split","result","value","buf","i","text","getID","BattleMovedex","name","BattlePokedex","escapeHTML","join","forceAdd","top","scrollTop","bottom","height","windowHeight","finalIndex","Math","floor","label","row","errorMessage","filterLabel","illegalLabel","mStart","mEnd","renderRow","moreVisible","remove","firstChild","append","innerHTML","setType","qType","format","set","id","type","matchStart","matchLength","attrs","renderPokemonSortRow","renderMoveSortRow","pokemon","renderPokemonRow","move","renderMoveRow","item","BattleItems","renderItemRow","ability","BattleAbilities","renderAbilityRow","toUpperCase","substr","renderTypeRow","egName","egggroup","renderEggGroupRow","renderTierRow","tierTable","uber","ou","uu","ru","nu","pu","zu","nfe","lc","cap","caplc","capnfe","uubl","rubl","nubl","publ","category","renderCategoryRow","articleTitle","BattleArticleTitles","renderArticleRow","firstPokemonColumn","toID","num","getPokemonIcon","tagStart","forme","types","getTypeIcon","abilities","stats","baseStats","hp","atk","def","spa","spd","spe","bst","renderTaggedPokemonRowInner","tag","getItemIcon","shortDesc","getCategoryIcon","pp","noPPBoosts","basePower","accuracy","renderMoveRowInner","desc","renderTaggedMoveRow","article","isSearchType","tier","BattleSearch","jQuery"],"version":3,"file":"index.eb1093f3.js.map"}