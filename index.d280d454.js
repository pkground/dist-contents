BattleSearch.urlRoot=Config.baseurl,window.Topbar=Panels.Topbar.extend({height:51}),window.PokedexResultPanel=Panels.Panel.extend({minWidth:639,maxWidth:639,initialize:function(){this.html("not found: "+Array.prototype.join.call(arguments," || "))}}),window.PokedexItemPanel=PokedexResultPanel.extend({initialize:function(e){e=toID(e);var t=getID(BattleItems,e);this.shortTitle=t.name;var a='<div class="pfx-body dexentry">';a+='<a href="'+Config.baseurl+'" class="pfx-backbutton" data-target="back"><i class="fa fa-chevron-left"></i> Pok&eacute;dex</a>'+('<h1><span class="itemicon" style="'+getItemIcon(t)+'"></span> <a href="'+Config.baseurl+"items/"+e+'" data-target="push" class="subtle">')+t.name+"</a></h1><p>"+escapeHTML(t.desc||t.shortDesc)+"</p></div>",this.html(a)}}),window.PokedexAbilityPanel=PokedexResultPanel.extend({initialize:function(e){e=toID(e);var t=getID(BattleAbilities,e);this.id=e,this.shortTitle=t.name;var a='<div class="pfx-body dexentry">';a+='<a href="'+Config.baseurl+'" class="pfx-backbutton" data-target="back"><i class="fa fa-chevron-left"></i> Pok&eacute;dex</a>'+('<h1><a href="'+Config.baseurl+"abilities/"+e+'" data-target="push" class="subtle">')+t.name+"</a></h1>",t.isNonstandard&&"noability"!==t.id&&(a+='<div class="warning"><strong>Note:</strong> This is a made-up ability by <a href="http://www.smogon.com/cap/" target="_blank">Smogon CAP</a>.</div>'),a+="<p>"+escapeHTML(t.desc)+'</p><h3>Pok&eacute;mon with this ability</h3><ul class="utilichart nokbd"></ul></div>',this.html(a),setTimeout(this.renderPokemonList.bind(this))},renderPokemonList:function(e){var t=getID(BattleAbilities,this.id),a="";for(var s in BattlePokedex){var i=BattlePokedex[s];(!i.unusable||t.isNonstandard)&&(i.abilities["0"]===t.name||i.abilities["1"]===t.name||i.abilities.H===t.name)&&(a+=BattleSearch.renderPokemonRow(i))}this.$(".utilichart").html(a)}}),window.PokedexTypePanel=PokedexResultPanel.extend({BattleSearchCountIndex:{},buildCountIndex:function(){for(let e in BattleTypeChart)this.BattleSearchCountIndex[e+" move"]=Object.values(BattleMovedex).filter(t=>t.type===e.name).length,this.BattleSearchCountIndex[e+"pokemon"]=Object.values(BattlePokedex).filter(t=>t.types.indexOf(e.name)>=0).length},initialize:function(e){e=toID(e),this.type=e[0].toUpperCase()+e.substr(1);var t=getID(BattleTypeChart,this.type);this.shortTitle=this.type,this.buildCountIndex();var a='<div class="pfx-body dexentry">';a+='<a href="'+Config.baseurl+'" class="pfx-backbutton" data-target="back"><i class="fa fa-chevron-left"></i> Pok&eacute;dex</a>'+('<h1><a href="'+Config.baseurl+"types/"+e+'" data-target="push" class="subtle">')+this.type+"</a></h1><dl>";var s=!1;for(let e in a+="<dt>Weaknesses:</dt> <dd>",BattleTypeChart){let i=BattleTypeChart[e];2==i.effectiveness[t.name]&&(a+='<a href="'+Config.baseurl+"types/"+toID(i)+'" data-target="push">'+getTypeIcon(i)+"</a> ",s=!0)}for(let e in s||(a+="<em>No weaknesses</em>"),a+="</dd><dt>Resistances:</dt> <dd>",s=!1,BattleTypeChart){let i=BattleTypeChart[e];.5==i.effectiveness[t.name]&&(a+='<a href="'+Config.baseurl+"types/"+toID(i)+'" data-target="push">'+getTypeIcon(i)+"</a> ",s=!0)}for(let e in s||(a+="<em>No resistances</em>"),a+="</dd><dt>Immunities:</dt> <dd>",s=!1,BattleTypeChart){let i=BattleTypeChart[e];0==i.effectiveness[t.name]&&(a+='<a href="'+Config.baseurl+"types/"+toID(i)+'" data-target="push">'+getTypeIcon(i)+"</a> ",s=!0)}s||(a+="<em>No immunities</em>"),a+='</dd></dl><ul class="tabbar"><li><button class="button nav-first cur" value="move">Moves</button></li><li><button class="button nav-last" value="pokemon">Pokemon</button></li></ul><ul class="utilichart nokbd"></ul></div>',this.html(a),setTimeout(this.renderMoveList.bind(this))},events:{"click .tabbar button":"selectTab"},selectTab:function(e){switch(this.$(".tabbar button").removeClass("cur"),$(e.currentTarget).addClass("cur"),e.currentTarget.value){case"move":this.renderMoveList();break;case"pokemon":this.renderPokemonList()}},renderMoveList:function(){var e=this.type,t='<li class="resultheader"><h3>Physical '+e+" moves</h3></li>";for(var a in BattleMovedex){var s=BattleMovedex[a];s.type===e&&"Physical"===s.category&&(t+=BattleSearch.renderMoveRow(s))}this.$(".utilichart").html(t).css("min-height",81+33*this.BattleSearchCountIndex[e+" move"]),setTimeout(this.renderMoveList2.bind(this))},renderMoveList2:function(){var e=this.type,t=['<li class="resultheader"><h3>Physical '+e+" moves</h3></li>",'<li class="resultheader"><h3>Special '+e+" moves</h3></li>",'<li class="resultheader"><h3>Status '+e+" moves</h3></li>"],a={Physical:0,Special:1,Status:2};for(var s in BattleMovedex){var i=BattleMovedex[s];i.type===e&&(t[a[i.category]]+=BattleSearch.renderMoveRow(i))}this.$(".utilichart").html(t.join("")).css("min-height",81+33*this.BattleSearchCountIndex[e+" move"])},renderPokemonList:function(){var e=this.type,t='<li class="resultheader"><h3>Pure '+e+" Pok&eacute;mon</h3></li>";for(var a in BattlePokedex){var s=BattlePokedex[a];s.types[0]!==e||s.types[1]||(t+=BattleSearch.renderPokemonRow(s))}this.$(".utilichart").html(t).css("min-height",81+33*this.BattleSearchCountIndex[e+" pokemon"]),setTimeout(this.renderPokemonList2.bind(this))},renderPokemonList2:function(){var e=this.type,t='<li class="resultheader"><h3>Primary '+e+" Pok&eacute;mon</h3></li>",a='<li class="resultheader"><h3>Secondary '+e+" Pok&eacute;mon</h3></li>";for(var s in BattlePokedex){var i=BattlePokedex[s];i.types[0]===e?i.types[1]&&(t+=BattleSearch.renderPokemonRow(i)):i.types[1]===e&&(a+=BattleSearch.renderPokemonRow(i))}this.$(".utilichart").append(t+a)}}),window.PokedexTagPanel=PokedexResultPanel.extend({table:{contact:{name:"Contact",tag:"contact",desc:"Affected by a variety of moves, abilities, and items.</p><p>Moves affected by contact moves include: Spiky Shield, King's Shield. Abilities affected by contact moves include: Iron Barbs, Rough Skin, Gooey, Flame Body, Static, Tough Claws. Items affected by contact moves include: Rocky Helmet, Sticky Barb."},sound:{name:"Sound",tag:"punch",desc:'Boosted by <a href="'+Config.baseurl+'abilities/amplifier" data-target="push">Amplifier</a> Pok&eacute;mon.'},powder:{name:"Powder",tag:"powder",desc:"Doesn't affect <a href=\""+Config.baseurl+'types/grass" data-target="push">Grass-type</a> Pok&eacute;mon, <a href="'+Config.baseurl+'abilities/overcoat" data-target="push">Overcoat</a> Pok&eacute;mon, or <a href="'+Config.baseurl+'items/safetygoggles" data-target="push">Safety Goggles</a> holders.'},pulse:{name:"Pulse",tag:"pulse",desc:'Boosted 1.5x by <a href="'+Config.baseurl+'abilities/megalauncher" data-target="push">Mega Launcher</a>.'},bite:{name:"Bite",tag:"bite",desc:'Boosted 1.5x by <a href="'+Config.baseurl+'abilities/strongjaw" data-target="push">Strong Jaw</a>.'},ballistic:{name:"Ballistic",tag:"bullet",desc:"Doesn't affect <a href=\""+Config.baseurl+'abilities/bulletproof" data-target="push">Bulletproof</a> Pok&eacute;mon.'},slicing:{name:"Slicing",tag:"slicing",desc:'Boosted 1.5x by <a href="'+Config.baseurl+'abilities/sharpness" data-target="push">Sharpness</a>.'},wind:{name:"Wind",tag:"wind",desc:'Pok&eacute;mon with <a href="'+Config.baseurl+'abilities/windpower" data-target="push">Wind Power</a> gain the charge effect after being hit. Pok&eacute;mon with <a href="'+Config.baseurl+'abilities/windrider" data-target="push">Wind Rider</a> have their Attack raised by 1 stage and are immune.'},bypassprotect:{name:"Bypass Protect",tag:"",desc:'Bypasses <a class="subtle" href="'+Config.baseurl+'moves/protect" data-target="push">Protect</a>, <a class="subtle" href="'+Config.baseurl+'moves/detect" data-target="push">Detect</a>, <a class="subtle" href="'+Config.baseurl+'moves/kingsshield" data-target="push">King\'s Shield</a>, and <a class="subtle" href="'+Config.baseurl+'moves/spikyshield" data-target="push">Spiky Shield</a>.'},nonreflectable:{name:"Nonreflectable",tag:"",desc:'Can\'t be bounced by <a class="subtle" href="'+Config.baseurl+'moves/magiccoat" data-target="push">Magic Coat</a> or <a class="subtle" href="'+Config.baseurl+'abilities/magicbounce" data-target="push">Magic Bounce</a>.'},nonmirror:{name:"Nonmirror",tag:"",desc:'Can\'t be copied by <a class="subtle" href="'+Config.baseurl+'moves/mirrormove" data-target="push">Mirror Move</a>.'},nonsnatchable:{name:"Nonsnatchable",tag:"",desc:'Can\'t be copied by <a class="subtle" href="'+Config.baseurl+'moves/snatch" data-target="push">Snatch</a>.'},bypasssub:{name:"Bypass Substitute",tag:"bypasssub",desc:'Bypasses but does not break a <a class="subtle" href="'+Config.baseurl+'moves/substitute" data-target="push">Substitute</a>.'},zmove:{name:"Z-Move",tag:"",desc:'Is a <a class="subtle" href="'+Config.baseurl+'articles/zmoves" data-target="push">Z-Move</a>.'},maxmove:{name:"Max Move",tag:"",desc:'Is a <a class="subtle" href="'+Config.baseurl+'articles/maxmoves" data-target="push">Max Move</a>.'},gmaxmove:{name:"G-Max Move",tag:"",desc:'Is a <a class="subtle" href="'+Config.baseurl+'articles/gmaxmoves" data-target="push">G-Max Move</a>.'}},initialize:function(e){var t=this.table[e],a=t?t.name:e;this.id=e,this.shortTitle=a;var s='<div class="pfx-body dexentry">';s+='<a href="'+Config.baseurl+'" class="pfx-backbutton" data-target="back"><i class="fa fa-chevron-left"></i> Pok&eacute;dex</a>'+('<h1><a href="'+Config.baseurl+"tags/"+e+'" data-target="push" class="subtle">')+a+"</a></h1>",t&&(s+="<p>"+t.desc+"</p>"),s+="<h3>"+a+' moves</h3><ul class="utilichart metricchart nokbd"></ul></div>',this.html(s),setTimeout(this.renderDistribution.bind(this))},getDistribution:function(){if(this.results)return this.results;var e=this.id in this.table?this.table[this.id].tag:this.id,t=[];if(e)for(var a in BattleMovedex)BattleMovedex[a].flags&&e in BattleMovedex[a].flags&&t.push(a);else if("bypassprotect"===this.id)for(var a in BattleMovedex)"self"===BattleMovedex[a].target||!BattleMovedex[a].flags||"protect"in BattleMovedex[a].flags||t.push(a);else if("nonreflectable"===this.id)for(var a in BattleMovedex)"self"===BattleMovedex[a].target||"Status"!==BattleMovedex[a].category||!BattleMovedex[a].flags||"reflectable"in BattleMovedex[a].flags||t.push(a);else if("zmove"===this.id)for(var a in BattleMovedex)BattleMovedex[a].isZ&&t.push(a);else if("nonmirror"===this.id)for(var a in BattleMovedex)"self"===BattleMovedex[a].target||!BattleMovedex[a].flags||"mirror"in BattleMovedex[a].flags||t.push(a);else if("nonsnatchable"===this.id)for(var a in BattleMovedex)"allyTeam"!==BattleMovedex[a].target&&"self"!==BattleMovedex[a].target&&"adjacentAllyOrSelf"!==BattleMovedex[a].target||!BattleMovedex[a].flags||"snatch"in BattleMovedex[a].flags||t.push(a);return this.results=t},renderDistribution:function(){var e=this.getDistribution();if(this.$chart=this.$(".utilichart"),e.length>1600/33){this.streamLoading=!0,this.$el.on("scroll",this.handleScroll.bind(this));var t=this.$el.children().offset().top,a=this.$el.outerHeight(),s=this.$chart.offset().top,i=Math.floor(((this.scrollLoc=this.$el.scrollTop())-(s-t))/33-35),r=Math.floor(i+35+a/33+35);i<0&&(i=0),r>e.length-1&&(r=e.length-1),this.start=i,this.end=r;for(var l="",o=0,n=e.length;o<n;o++)l+='<li class="result">'+this.renderRow(o,o<i||o>r)+"</li>";this.$chart.html(l)}else{for(var l="",o=0,n=e.length;o<n;o++)l+='<li class="result">'+this.renderRow(o)+"</li>";this.$chart.html(l)}},renderRow:function(e,t){var a=this.results,s=BattleMovedex[a[e]];return t?s.name:BattleSearch.renderMoveRowInner(s)},handleScroll:function(){Math.abs(this.$el.scrollTop()-this.scrollLoc)>660&&this.renderUpdateDistribution()},debouncedPurgeTimer:null,renderUpdateDistribution:function(e){this.debouncedPurgeTimer&&(clearTimeout(this.debouncedPurgeTimer),this.debouncedPurgeTimer=null);var t=this.$el.children().offset().top,a=this.$el.outerHeight(),s=this.$chart.offset().top,i=this.scrollLoc=this.$el.scrollTop(),r=this.results,l=Math.floor(a/33),o=Math.floor((i-(s-t))/33-35),n=o+35+l+35;o<0&&(o=0),n>r.length-1&&(n=r.length-1);var h=this.$chart.children();if(e||o<this.start-l-30||n>this.end+l+30){for(var d="",c=0,u=r.length;c<u;c++)d+='<li class="result">'+this.renderRow(c,c<o||c>n)+"</li>";this.$chart.html(d),this.start=o,this.end=n;return}if(o<this.start){for(var c=o;c<this.start;c++)h[c].innerHTML=this.renderRow(c);this.start=o}if(n>this.end){for(var c=this.end+1;c<=n;c++)h[c].innerHTML=this.renderRow(c);this.end=n}if(this.end-this.start>l+90){var f=this;this.debouncedPurgeTimer=setTimeout(function(){f.renderUpdateDistribution(!0)},1e3)}}}),window.PokedexEggGroupPanel=PokedexResultPanel.extend({table:{amorphous:{name:"Amorphous",desc:""},bug:{name:"Bug",desc:""},ditto:{name:"Ditto",desc:"Can breed with anything."},dragon:{name:"Dragon",desc:""},fairy:{name:"Fairy",desc:""},field:{name:"Field",desc:""},flying:{name:"Flying",desc:""},grass:{name:"Grass",desc:""},humanlike:{name:"Human-Like",desc:""},mineral:{name:"Mineral",desc:""},monster:{name:"Monster",desc:""},plant:{name:"Plant",desc:""},undiscovered:{name:"Undiscovered",desc:"Can't breed."},water1:{name:"Water 1",desc:""},water2:{name:"Water 2",desc:""},water3:{name:"Water 3",desc:""}},initialize:function(e){for(var t=e.split("+"),a=0;a<t.length;a++)t[a]=toID(t[a]);this.id=t[0];var s=this.table[t[0]].name;this.shortTitle=s,t[1]&&(this.id2=t[1],s+=" + "+this.table[t[1]].name,this.shortTitle="Egg groups");var i='<div class="pfx-body dexentry">';i+='<a href="'+Config.baseurl+'" class="pfx-backbutton" data-target="back"><i class="fa fa-chevron-left"></i> Pok&eacute;dex</a>'+('<h1><a href="'+Config.baseurl+"egggroups/"+e+'" data-target="push" class="subtle">')+s+"</a></h1>",this.id2?i+='<p>All Pok&eacute;mon in either the <a href="'+Config.baseurl+"egggroups/"+this.id+'" data-target="push">'+this.table[t[0]].name+'</a> or <a href="'+Config.baseurl+"egggroups/"+this.id2+'" data-target="push">'+this.table[t[1]].name+"</a> egg group.</p>":i+="<p>"+this.table[t[0]].desc+"</p>",i+="<h3>Basic "+s+' pokemon</h3><ul class="utilichart metricchart nokbd"></ul></div>',this.html(i),setTimeout(this.renderDistribution.bind(this))},getDistribution:function(){var e=this.table[this.id].name,t="!";if(this.id2&&(t=this.table[this.id2].name),this.results)return this.results;var a=[];for(var s in BattlePokedex){var i=BattlePokedex[s],r=i.eggGroups;// var prevo = toID(pokemon.prevo);
r&&!i.forme&&(i&&i.unusable||r[0]!==e&&r[1]!==e&&r[0]!==t&&r[1]!==t||a.push(s))}return a.sort(),this.results=a},renderDistribution:function(){var e=this.getDistribution();if(this.$chart=this.$(".utilichart"),e.length>1600/33){this.streamLoading=!0,this.$el.on("scroll",this.handleScroll.bind(this));var t=this.$el.children().offset().top,a=this.$el.outerHeight(),s=this.$chart.offset().top,i=Math.floor(((this.scrollLoc=this.$el.scrollTop())-(s-t))/33-35),r=Math.floor(i+35+a/33+35);i<0&&(i=0),r>e.length-1&&(r=e.length-1),this.start=i,this.end=r;for(var l="",o=0,n=e.length;o<n;o++)l+='<li class="result">'+this.renderRow(o,o<i||o>r)+"</li>";this.$chart.html(l)}else{for(var l="",o=0,n=e.length;o<n;o++)l+='<li class="result">'+this.renderRow(o)+"</li>";this.$chart.html(l)}},renderRow:function(e,t){var a=this.results,s=BattlePokedex[a[e]];return t?""+s.species+" "+s.abilities["0"]+" "+(s.abilities["1"]||"")+" "+(s.abilities.H||""):BattleSearch.renderTaggedPokemonRowInner(s,'<span class="picon" style="margin-top:-12px;'+getPokemonIcon("egg")+'"></span>')},handleScroll:function(){Math.abs(this.$el.scrollTop()-this.scrollLoc)>660&&this.renderUpdateDistribution()},debouncedPurgeTimer:null,renderUpdateDistribution:function(e){this.debouncedPurgeTimer&&(clearTimeout(this.debouncedPurgeTimer),this.debouncedPurgeTimer=null);var t=this.$el.children().offset().top,a=this.$el.outerHeight(),s=this.$chart.offset().top,i=this.scrollLoc=this.$el.scrollTop(),r=this.results,l=Math.floor(a/33),o=Math.floor((i-(s-t))/33-35),n=o+35+l+35;o<0&&(o=0),n>r.length-1&&(n=r.length-1);var h=this.$chart.children();if(e||o<this.start-l-30||n>this.end+l+30){for(var d="",c=0,u=r.length;c<u;c++)d+='<li class="result">'+this.renderRow(c,c<o||c>n)+"</li>";this.$chart.html(d),this.start=o,this.end=n;return}if(o<this.start){for(var c=o;c<this.start;c++)h[c].innerHTML=this.renderRow(c);this.start=o}if(n>this.end){for(var c=this.end+1;c<=n;c++)h[c].innerHTML=this.renderRow(c);this.end=n}if(this.end-this.start>l+90){var f=this;this.debouncedPurgeTimer=setTimeout(function(){f.renderUpdateDistribution(!0)},1e3)}}}),window.PokedexCategoryPanel=PokedexResultPanel.extend({initialize:function(e){var t={id:e=toID(e),name:e[0].toUpperCase()+e.substr(1)};this.shortTitle=t.name;var a='<div class="pfx-body dexentry">';switch(a+='<a href="'+Config.baseurl+'" class="pfx-backbutton" data-target="back"><i class="fa fa-chevron-left"></i> Pok&eacute;dex</a>'+('<h1><a href="'+Config.baseurl+"categories/"+e+'" data-target="push" class="subtle">')+t.name+"</a></h1>",e){case"physical":a+="<p>Physical moves are damaging moves generally calculated with the user's Attack stat and the target's Defense stat.</p>";break;case"special":a+="<p>Special moves are damaging moves generally calculated with the user's Special Attack stat and the target's Special Defense stat.</p>";break;case"status":a+="<p>Status moves are moves that don't deal damage directly.</p>"}a+="</div>",this.html(a)}}),window.PokedexTierPanel=PokedexResultPanel.extend({initialize:function(e){var t={ag:"AG",uber:"Uber",ou:"OU",uu:"UU",ru:"RU",nu:"NU",pu:"PU",nfe:"NFE",lcuber:"LC Uber",lc:"LC",cap:"CAP",capnfe:"CAP NFE",caplc:"CAP LC",uubl:"UUBL",rubl:"RUBL",nubl:"NUBL",publ:"PUBL",unreleased:"Unreleased",illegal:"Illegal"}[e]||e;this.id=e,this.shortTitle=t;var a='<div class="pfx-body dexentry">';a+='<a href="'+Config.baseurl+'" class="pfx-backbutton" data-target="back"><i class="fa fa-chevron-left"></i> Pok&eacute;dex</a>'+('<h1><a href="'+Config.baseurl+"tiers/"+e+'" data-target="push" class="subtle">')+t+"</a></h1>","nfe"===e&&(a+="<p>\"NFE\" (Not Fully Evolved) as a tier refers to NFE Pok\xe9mon that aren't legal in LC and don't make the usage cutoff for a tier such as PU.</p>"),e.startsWith("cap")&&(a+='<div class="warning"><strong>Note:</strong> <a href="http://www.smogon.com/cap/" target="_blank">Smogon CAP</a> is a project to make up Pok&eacute;mon.</div>'),a+='<h3>Pok&eacute;mon in this tier</h3><ul class="utilichart nokbd"></ul></div>',this.html(a),setTimeout(this.renderPokemonList.bind(this))},renderPokemonList:function(e){var t=this.shortTitle,a="("+t+")",s="";for(var i in BattlePokedex){var r=BattlePokedex[i];(r.tier===t||r.tier===a)&&(s+=BattleSearch.renderPokemonRow(r))}this.$(".utilichart").html(s)}}),window.PokedexArticlePanel=PokedexResultPanel.extend({initialize:function(e){e=toID(e),this.shortTitle=e;var t='<div class="pfx-body dexentry">';t+='<a href="'+Config.baseurl+'" class="pfx-backbutton" data-target="back"><i class="fa fa-chevron-left"></i> Pok&eacute;dex</a>'+('<h1><a href="'+Config.baseurl+"articles/"+e+'" data-target="push" class="subtle">')+e+'</a></h1><div class="article-content"><em>Loading...</em></div></div>',this.html(t);var a=this;$.get("/.articles-cached/"+e+".html").done(function(t){var t=t.replace(/<h1[^>]*>([^<]+)<\/h1>/,function(t,s){return a.shortTitle=s,a.$("h1").first().html('<a href="'+Config.baseurl+"articles/"+e+'" class="subtle" data-target="push">'+s+"</a>"),""});a.$(".article-content").html(t)})}});//# sourceMappingURL=index.d280d454.js.map

//# sourceMappingURL=index.d280d454.js.map
